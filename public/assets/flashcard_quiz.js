var COMPILED=!0,goog=goog||{};goog.global=this,goog.DEBUG=!1,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.provide=function(e){if(!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e)},goog.setTestOnly=function(e){if(COMPILED&&!goog.DEBUG)throw e=e||"",Error(": "+e)},COMPILED||(goog.isProvided_=function(e){return!goog.implicitNamespaces_[e]&&!!goog.getObjectByName(e)},goog.implicitNamespaces_={}),goog.exportPath_=function(e,t,o){e=e.split("."),o=o||goog.global,!(e[0]in o)&&o.execScript&&o.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?o[n]=t:o=o[n]?o[n]:o[n]={}},goog.getObjectByName=function(e,t){for(var o,n=e.split("."),i=t||goog.global;o=n.shift();){if(!goog.isDefAndNotNull(i[o]))return null;i=i[o]}return i},goog.globalize=function(e,t){var o,n=t||goog.global;for(o in e)n[o]=e[o]},goog.addDependency=function(e,t,o){if(!COMPILED){var n;e=e.replace(/\\/g,"/");for(var i=goog.dependencies_,r=0;n=t[r];r++)i.nameToPath[n]=e,e in i.pathToNames||(i.pathToNames[e]={}),i.pathToNames[e][n]=!0;for(n=0;t=o[n];n++)e in i.requires||(i.requires[e]={}),i.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(e){if(!COMPILED&&!goog.isProvided_(e)){if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,goog.writeScripts_(),void 0}throw e="goog.require could not find: "+e,goog.global.console&&goog.global.console.error(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(e){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return"undefined"!=typeof e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("script"),t=e.length-1;t>=0;--t){var o=e[t].src,n=o.lastIndexOf("?"),n=-1==n?o.length:n;if("base.js"==o.substr(n-7,7)){goog.basePath=o.substr(0,n-7);break}}},goog.importScript_=function(e){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[e]&&t(e)&&(goog.dependencies_.written[e]=!0)},goog.writeScriptTag_=function(e){if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return t.write('<script type="text/javascript" src="'+e+'"></script>'),!0}return!1},goog.writeScripts_=function(){function e(t){if(!(t in i.written)){if(!(t in i.visited)&&(i.visited[t]=!0,t in i.requires))for(var r in i.requires[t])if(!goog.isProvided_(r)){if(!(r in i.nameToPath))throw Error("Undefined nameToPath for "+r);e(i.nameToPath[r])}t in n||(n[t]=!0,o.push(t))}}var t,o=[],n={},i=goog.dependencies_;for(t in goog.included_)i.written[t]||e(t);for(t=0;o.length>t;t++){if(!o[t])throw Error("Undefined script input");goog.importScript_(goog.basePath+o[t])}},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var o=Object.prototype.toString.call(e);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isDef=function(e){return void 0!==e},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var o,t="array"==t?[]:{};for(o in e)t[o]=goog.cloneObject(e[o]);return t}return e},goog.bindNative_=function(e){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t){if(!e)throw Error();if(arguments.length>2){var o=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,o),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=Array.prototype.slice.call(arguments);return o.unshift.apply(o,t),e.apply(this,o)}},goog.mixin=function(e,t){for(var o in t)e[o]=t[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,o=t.createElement("script");o.type="text/javascript",o.defer=!1,o.appendChild(t.createTextNode(e)),t.body.appendChild(o),t.body.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){var o=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;e.length>n;n++)t.push(o(e[n]));return t.join("-")},n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?o:n:function(e){return e};return t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){var o,n=t||{};for(o in n){var i=(""+n[o]).replace(/\$/g,"$$$$");e=e.replace(RegExp("\\{\\$"+o+"\\}","gi"),i)}return e},goog.getMsgWithFallback=function(e){return e},goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)},goog.exportProperty=function(e,t,o){e[t]=o},goog.inherits=function(e,t){function o(){}o.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new o,e.prototype.constructor=e},goog.base=function(e,t){var o=arguments.callee.caller;if(o.superClass_)return o.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var n=Array.prototype.slice.call(arguments,2),i=!1,r=e.constructor;r;r=r.superClass_&&r.superClass_.constructor)if(r.prototype[t]===o)i=!0;else if(i)return r.prototype[t].apply(e,n);if(e[t]===o)return e.constructor.prototype[t].apply(e,n);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)};var lime={DirtyObject:function(){}};lime.DirtyObject.prototype.update=function(){},goog.debug={},goog.debug.Error=function(e){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"",e&&(this.message=String(e))},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.string={},goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var o=e.length-t.length;return o>=0&&e.indexOf(t,o)==o},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.subs=function(e){for(var t=1;arguments.length>t;t++){var o=String(arguments[t]).replace(/\$/g,"$$$$");e=e.replace(/\%s/,o)}return e},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptySafe=function(e){return goog.string.isEmpty(goog.string.makeSafe(e))},goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&e>=" "&&"~">=e||e>=""&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var o=String(e).toLowerCase(),n=String(t).toLowerCase();return n>o?-1:o==n?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(goog.string.numerateCompareRegExp_),n=t.toLowerCase().match(goog.string.numerateCompareRegExp_),i=Math.min(o.length,n.length),r=0;i>r;r++){var s=o[r],a=n[r];if(s!=a)return o=parseInt(s,10),!isNaN(o)&&(n=parseInt(a,10),!isNaN(n)&&o-n)?o-n:a>s?-1:1}return o.length!=n.length?o.length-n.length:t>e?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){return t?e.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;"):goog.string.allRe_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(goog.string.amperRe_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.ltRe_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.gtRe_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.quotRe_,"&quot;")),e):e},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/\"/g,goog.string.allRe_=/[&<>\"]/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesUsingDom_=function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},o=document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,n){var i=t[e];if(i)return i;if("#"==n.charAt(0)){var r=Number("0"+n.substr(1));isNaN(r)||(i=String.fromCharCode(r))}return i||(o.innerHTML=e+" ",i=o.firstChild.nodeValue.slice(0,-1)),t[e]=i})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));if(!isNaN(o))return String.fromCharCode(o)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.stripQuotes=function(e,t){for(var o=t.length,n=0;o>n;n++){var i=1==o?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,o){return o&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),o&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,o,n){if(o&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return o&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var t=['"'],o=0;e.length>o;o++){var n=e.charAt(o),i=n.charCodeAt(0);t[o+1]=goog.string.specialEscapeChars_[n]||(i>31&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],o=0;e.length>o;o++)t[o]=goog.string.escapeChar(e.charAt(o));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,o=e.charCodeAt(0);return o>31&&127>o?t=e:(256>o?(t="\\x",(16>o||o>256)&&(t+="0")):(t="\\u",4096>o&&(t+="0")),t+=o.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.toMap=function(e){for(var t={},o=0;e.length>o;o++)t[e.charAt(o)]=!0;return t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,o){var n=e;return t>=0&&e.length>t&&o>0&&(n=e.substr(0,t)+e.substr(t+o,e.length-t-o)),n},goog.string.remove=function(e,t){var o=RegExp(goog.string.regExpEscape(t),"");return e.replace(o,"")},goog.string.removeAll=function(e,t){var o=RegExp(goog.string.regExpEscape(t),"g");return e.replace(o,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,o){return e=goog.isDef(o)?e.toFixed(o):String(e),o=e.indexOf("."),-1==o&&(o=e.length),goog.string.repeat("0",Math.max(0,t-o))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var o=0,n=goog.string.trim(String(e)).split("."),i=goog.string.trim(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==o&&r>s;s++){var a=n[s]||"",g=i[s]||"",l=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var c=l.exec(a)||["","",""],d=u.exec(g)||["","",""];if(0==c[0].length&&0==d[0].length)break;var o=0==c[1].length?0:parseInt(c[1],10),h=0==d[1].length?0:parseInt(d[1],10),o=goog.string.compareElements_(o,h)||goog.string.compareElements_(0==c[2].length,0==d[2].length)||goog.string.compareElements_(c[2],d[2])}while(0==o)}return o},goog.string.compareElements_=function(e,t){return t>e?-1:e>t?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var t=0,o=0;e.length>o;++o)t=31*t+e.charCodeAt(o),t%=goog.string.HASHCODE_MAX_;return t},goog.string.uniqueStringCounter_=0|2147483648*Math.random(),goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmpty(e)?0/0:t},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var o=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(e,t,o){return t+o.toUpperCase()})},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):0/0},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.doAssertFailure_=function(e,t,o,n){var i="Assertion failed";if(o)var i=i+(": "+o),r=n;else e&&(i+=": "+e,r=t);throw new goog.asserts.AssertionError(""+i,r||[])},goog.asserts.assert=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},goog.asserts.assertNumber=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!(e instanceof t)&&goog.asserts.doAssertFailure_("instanceof check failed.",null,o,Array.prototype.slice.call(arguments,3)),e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.peek=function(e){return e[e.length-1]},goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,o)}:function(e,t,o){if(o=null==o?0:0>o?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,o):-1;for(;e.length>o;o++)if(o in e&&e[o]===t)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==o?e.length-1:o)}:function(e,t,o){if(o=null==o?e.length-1:o,0>o&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,o):-1;for(;o>=0;o--)if(o in e&&e[o]===t)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(e,t,o){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;n>r;r++)r in i&&t.call(o,i[r],r,e)},goog.array.forEachRight=function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,n=n-1;n>=0;--n)n in i&&t.call(o,i[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=[],r=0,s=goog.isString(e)?e.split(""):e,a=0;n>a;a++)if(a in s){var g=s[a];t.call(o,g,a,e)&&(i[r++]=g)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=Array(n),r=goog.isString(e)?e.split(""):e,s=0;n>s;s++)s in r&&(i[s]=t.call(o,r[s],s,e));return i},goog.array.reduce=function(e,t,o,n){if(e.reduce)return n?e.reduce(goog.bind(t,n),o):e.reduce(t,o);var i=o;return goog.array.forEach(e,function(o,r){i=t.call(n,i,o,r,e)}),i},goog.array.reduceRight=function(e,t,o,n){if(e.reduceRight)return n?e.reduceRight(goog.bind(t,n),o):e.reduceRight(t,o);var i=o;return goog.array.forEachRight(e,function(o,r){i=t.call(n,i,o,r,e)}),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;n>r;r++)if(r in i&&t.call(o,i[r],r,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;n>r;r++)if(r in i&&!t.call(o,i[r],r,e))return!1;return!0},goog.array.count=function(e,t,o){var n=0;return goog.array.forEach(e,function(e,i,r){t.call(o,e,i,r)&&++n},o),n},goog.array.find=function(e,t,o){return t=goog.array.findIndex(e,t,o),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,r=0;n>r;r++)if(r in i&&t.call(o,i[r],r,e))return r;return-1},goog.array.findRight=function(e,t,o){return t=goog.array.findIndexRight(e,t,o),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,n=n-1;n>=0;n--)if(n in i&&t.call(o,i[n],n,e))return n;return-1},goog.array.contains=function(e,t){return goog.array.indexOf(e,t)>=0},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;t>=0;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,o){goog.array.splice(e,o,0,t)},goog.array.insertArrayAt=function(e,t,o){goog.partial(goog.array.splice,e,o,0).apply(null,t)},goog.array.insertBefore=function(e,t,o){var n;2==arguments.length||0>(n=goog.array.indexOf(e,o))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var o,n=goog.array.indexOf(e,t);return(o=n>=0)&&goog.array.removeAt(e,n),o},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,o){return t=goog.array.findIndex(e,t,o),t>=0?(goog.array.removeAt(e,t),!0):!1},goog.array.concat=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var t=e.length;if(t>0){for(var o=Array(t),n=0;t>n;n++)o[n]=e[n];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e){for(var t=1;arguments.length>t;t++){var o,n=arguments[t];if(goog.isArray(n)||(o=goog.isArrayLike(n))&&Object.prototype.hasOwnProperty.call(n,"callee"))e.push.apply(e,n);else if(o)for(var i=e.length,r=n.length,s=0;r>s;s++)e[i+s]=n[s];else e.push(n)}},goog.array.splice=function(e){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,o){return goog.asserts.assert(null!=e.length),2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(e,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,t,o)},goog.array.removeDuplicates=function(e,t){for(var o=t||e,n={},i=0,r=0;e.length>r;){var s=e[r++],a=goog.isObject(s)?"o"+goog.getUid(s):(typeof s).charAt(0)+s;Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,o[i++]=s)}o.length=i},goog.array.binarySearch=function(e,t,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,o){return goog.array.binarySearch_(e,t,!0,void 0,o)},goog.array.binarySearch_=function(e,t,o,n,i){for(var r,s=0,a=e.length;a>s;){var g,l=s+a>>1;g=o?t.call(i,e[l],l,e):t(n,e[l]),g>0?s=l+1:(a=l,r=!g)}return r?s:~s},goog.array.sort=function(e,t){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.sort.call(e,t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var o=0;e.length>o;o++)e[o]={index:o,value:e[o]};var n=t||goog.array.defaultCompare;for(goog.array.sort(e,function(e,t){return n(e.value,t.value)||e.index-t.index}),o=0;e.length>o;o++)e[o]=e[o].value},goog.array.sortObjectsByKey=function(e,t,o){var n=o||goog.array.defaultCompare;goog.array.sort(e,function(e,o){return n(e[t],o[t])})},goog.array.isSorted=function(e,t,o){t=t||goog.array.defaultCompare;for(var n=1;e.length>n;n++){var i=t(e[n-1],e[n]);if(i>0||0==i&&o)return!1}return!0},goog.array.equals=function(e,t,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;o=o||goog.array.defaultCompareEquality;for(var i=0;n>i;i++)if(!o(e[i],t[i]))return!1;return!0},goog.array.compare=function(e,t,o){return goog.array.equals(e,t,o)},goog.array.compare3=function(e,t,o){o=o||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),i=0;n>i;i++){var r=o(e[i],t[i]);if(0!=r)return r}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:t>e?-1:0},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,o){return o=goog.array.binarySearch(e,t,o),0>o?(goog.array.insertAt(e,t,-(o+1)),!0):!1},goog.array.binaryRemove=function(e,t,o){return t=goog.array.binarySearch(e,t,o),t>=0?goog.array.removeAt(e,t):!1},goog.array.bucket=function(e,t){for(var o={},n=0;e.length>n;n++){var i=e[n],r=t(i,n,e);goog.isDef(r)&&(o[r]||(o[r]=[])).push(i)}return o},goog.array.toObject=function(e,t,o){var n={};return goog.array.forEach(e,function(i,r){n[t.call(o,i,r,e)]=i}),n},goog.array.range=function(e,t,o){var n=[],i=0,r=e;if(o=o||1,void 0!==t&&(i=e,r=t),0>o*(r-i))return[];if(o>0)for(e=i;r>e;e+=o)n.push(e);else for(e=i;e>r;e+=o)n.push(e);return n},goog.array.repeat=function(e,t){for(var o=[],n=0;t>n;n++)o[n]=e;return o},goog.array.flatten=function(){for(var e=[],t=0;arguments.length>t;t++){var o=arguments[t];goog.isArray(o)?e.push.apply(e,goog.array.flatten.apply(null,o)):e.push(o)}return e},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,t>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):0>t&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},goog.array.zip=function(){if(!arguments.length)return[];for(var e=[],t=0;;t++){for(var o=[],n=0;arguments.length>n;n++){var i=arguments[n];if(t>=i.length)return e;o.push(i[t])}e.push(o)}},goog.array.shuffle=function(e,t){for(var o=t||Math.random,n=e.length-1;n>0;n--){var i=Math.floor(o()*(n+1)),r=e[n];e[n]=e[i],e[i]=r}},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},goog.math.modulo=function(e,t){var o=e%t;return 0>o*t?o+t:o},goog.math.lerp=function(e,t,o){return e+o*(t-e)},goog.math.nearlyEquals=function(e,t,o){return(o||1e-6)>=Math.abs(e-t)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,o,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-t,o-e)))},goog.math.angleDifference=function(e,t){var o=goog.math.standardAngle(t)-goog.math.standardAngle(e);return o>180?o-=360:-180>=o&&(o=360+o),o},goog.math.sign=function(e){return 0==e?0:0>e?-1:1},goog.math.longestCommonSubsequence=function(e,t,o,n){o=o||function(e,t){return e==t},n=n||function(t){return e[t]};for(var i=e.length,r=t.length,s=[],a=0;i+1>a;a++)s[a]=[],s[a][0]=0;for(var g=0;r+1>g;g++)s[0][g]=0;for(a=1;i>=a;a++)for(g=1;i>=g;g++)s[a][g]=o(e[a-1],t[g-1])?s[a-1][g-1]+1:Math.max(s[a-1][g],s[a][g-1]);for(var l=[],a=i,g=r;a>0&&g>0;)o(e[a-1],t[g-1])?(l.unshift(n(a-1,g-1)),a--,g--):s[a-1][g]>s[a][g-1]?a--:g--;return l},goog.math.sum=function(){return goog.array.reduce(arguments,function(e,t){return e+t},0)},goog.math.average=function(){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.standardDeviation=function(){var e=arguments.length;if(2>e)return 0;var t=goog.math.average.apply(null,arguments),e=goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-t,2)}))/(e-1);return Math.sqrt(e)},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.safeFloor=function(e,t){return goog.asserts.assert(!goog.isDef(t)||t>0),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(!goog.isDef(t)||t>0),Math.ceil(e-(t||2e-15))},goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.equals=function(e,t){return e==t?!0:e&&t?e.x==t.x&&e.y==t.y:!1},goog.math.Coordinate.distance=function(e,t){var o=e.x-t.x,n=e.y-t.y;return Math.sqrt(o*o+n*n)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var o=e.x-t.x,n=e.y-t.y;return o*o+n*n},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=e,goog.isNumber(t)&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.x*=e,this.y*=o,this},goog.math.Box=function(e,t,o,n){this.top=e,this.right=t,this.bottom=o,this.left=n},goog.math.Box.boundingBox=function(){for(var e=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),t=1;arguments.length>t;t++){var o=arguments[t];
e.top=Math.min(e.top,o.y),e.right=Math.max(e.right,o.x),e.bottom=Math.max(e.bottom,o.y),e.left=Math.min(e.left,o.x)}return e},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,o,n){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=t,this.bottom+=o,this.left-=n),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.equals=function(e,t){return e==t?!0:e&&t?e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left:!1},goog.math.Box.contains=function(e,t){return e&&t?t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom:!1},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var o=goog.math.Box.relativePositionX(e,t),n=goog.math.Box.relativePositionY(e,t);return Math.sqrt(o*o+n*n)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,o){return e.left<=t.right+o&&t.left<=e.right+o&&e.top<=t.bottom+o&&t.top<=e.bottom+o},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(this.left+=e,this.right+=e,goog.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},goog.math.Box.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.left*=e,this.right*=e,this.top*=o,this.bottom*=o,this},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t?!0:e&&t?e.width==t.width&&e.height==t.height:!1},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.width*=e,this.height*=o,this},goog.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Box.size={},goog.math.Size.scaleVec2={},goog.math.Box.prototype.size=function(){return new goog.math.Size(this.right-this.left,this.bottom-this.top)},goog.math.Size.prototype.scaleVec2=function(e){return this.width*=e.x,this.height*=e.y,this},lime.Renderer=function(){},lime.Renderer.prototype.draw=goog.nullFunction,lime.Renderer.prototype.getType=function(){return this.base?this.base:this},lime.Renderer.prototype.makeSubRenderer=function(e){return goog.object.extend(e,this),e.base=this.getType(),e},lime.Renderer.CANVAS=new lime.Renderer,lime.Renderer.CANVAS.updateLayout=function(){},lime.Renderer.CANVAS.drawCanvas=function(){var e,t=this.getQuality(),o=this.measureContents(),n=this.relativeQuality_||1,i=n/t;if(this.domElement){this.boundsCache&&this.boundsCache.contains(o)&&(e=this.boundsCache.size().area()/o.size().area())&&1.6>e&&e>.5?o=this.boundsCache:1!=this.staticCanvas&&0!=this.children_.length&&(this instanceof lime.Scene||o.expand(12,12,12,12)),this.boundsCache=o;var r=o.size();e=r.clone().scale(n).ceil(),(this.domElement.width!=e.width||this.domElement.height!=e.height)&&(this.domElement.width=e.width,this.domElement.height=e.height,this.redraw_=1);var s=this.getScale().clone();this.transitionsActive_[lime.Transition.SCALE]&&(s=this.transitionsActive_[lime.Transition.SCALE]),0!=e.width?s.scale(r.width*i/e.width):s.scale(1/t),t=this.getFrame(),this.ax=(t.left-o.left)*n,this.ay=(t.top-o.top)*n,o=this.getSize().clone().scaleVec2(this.getAnchorPoint()).scale(n),n=this.getPosition().clone(),this.transitionsActive_[lime.Transition.POSITION]&&(n=this.transitionsActive_[lime.Transition.POSITION]),n.x*=i,n.y*=i,n.x-=o.width+this.ax,n.y-=o.height+this.ay,lime.style.setTransformOrigin(this.domElement,100*((this.ax+o.width)/e.width),100*((this.ay+o.height)/e.height),!0),!this.transitionsActiveSet_[lime.Transition.POSITION]&&!this.transitionsActiveSet_[lime.Transition.SCALE]&&!this.transitionsActiveSet_[lime.Transition.ROTATION]&&(i=-this.getRotation(),goog.isDef(this.transitionsActive_[lime.Transition.ROTATION])&&(i=-this.transitionsActive_[lime.Transition.ROTATION]),lime.style.setTransform(this.domElement,(new lime.style.Transform).setPrecision(.1).translate(n.x,n.y).scale(s.x,s.y).rotate(i))),this.redraw_&&(i=this.domElement.getContext("2d"),n=this.relativeQuality_||1,i.clearRect(0,0,e.width,e.height),i.save(),i.translate(this.ax,this.ay),i.scale(n,n),e=this.getSize(),s=this.getAnchorPoint(),i.translate(e.width*s.x,e.height*s.y),this.renderer.drawCanvasObject.call(this,i),i.restore(),this.redraw_=0)}},lime.Renderer.CANVAS.update=function(){},lime.Renderer.CANVAS.drawCanvasObject=function(e){if(this.inTree_&&(this.mask_!=this.activeMask_&&(this.activeMask_&&lime.Renderer.DOM.removeMask.call(this),this.mask_&&lime.Renderer.DOM.addMask.call(this)),!(this.maskTarget_||this.hidden_||0==this.opacity_||1==this.isMask))){if(1!=this.opacity_&&(e.globalAlpha*=this.opacity_),this.mask_){lime.Renderer.DOM.calculateMaskPosition.call(this.mask_);var t=this.activeMask_,o=this.scale_;e.save(),e.save(),e.translate(t.mPos.x,t.mPos.y),e.rotate(-t.mRot),this.needsDomElement&&e.rotate(this.getRotation()*Math.PI/180),e.beginPath(),e.moveTo(0,0),e.lineTo(t.mWidth/o.x,0),e.lineTo(t.mWidth/o.x,t.mHeight/o.y),e.lineTo(0,t.mHeight/o.y),e.closePath(),e.restore(),e.clip()}t=new goog.math.Coordinate(0,0),this.renderer.draw.call(this,e);for(var n,i=0;n=this.children_[i];i++){var r=n.localToParent(t).clone(),s=n.getRotation(),o=n.getScale();e.save(),e.translate(r.x,r.y),e.scale(o.x,o.y),0!=s&&e.rotate(-s*Math.PI/180),this.renderer.drawCanvasObject.call(n,e),e.restore()}1!=this.opacity_&&(e.globalAlpha/=this.opacity_),this.activeMask_&&e.restore()}},goog.math.Vec2=function(e,t){this.x=e,this.y=t},goog.inherits(goog.math.Vec2,goog.math.Coordinate),goog.math.Vec2.randomUnit=function(){var e=2*Math.random()*Math.PI;return new goog.math.Vec2(Math.cos(e),Math.sin(e))},goog.math.Vec2.random=function(){var e=Math.sqrt(Math.random()),t=2*Math.random()*Math.PI;return new goog.math.Vec2(Math.cos(t)*e,Math.sin(t)*e)},goog.math.Vec2.fromCoordinate=function(e){return new goog.math.Vec2(e.x,e.y)},goog.math.Vec2.prototype.clone=function(){return new goog.math.Vec2(this.x,this.y)},goog.math.Vec2.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},goog.math.Vec2.prototype.squaredMagnitude=function(){return this.x*this.x+this.y*this.y},goog.math.Vec2.prototype.scale=goog.math.Coordinate.prototype.scale,goog.math.Vec2.prototype.invert=function(){return this.x=-this.x,this.y=-this.y,this},goog.math.Vec2.prototype.normalize=function(){return this.scale(1/this.magnitude())},goog.math.Vec2.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},goog.math.Vec2.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},goog.math.Vec2.prototype.rotate=function(e){var t=Math.cos(e);e=Math.sin(e);var o=this.y*t+this.x*e;return this.x=this.x*t-this.y*e,this.y=o,this},goog.math.Vec2.rotateAroundPoint=function(e,t,o){return e.clone().subtract(t).rotate(o).add(t)},goog.math.Vec2.prototype.equals=function(e){return this==e||!!e&&this.x==e.x&&this.y==e.y},goog.math.Vec2.distance=goog.math.Coordinate.distance,goog.math.Vec2.squaredDistance=goog.math.Coordinate.squaredDistance,goog.math.Vec2.equals=goog.math.Coordinate.equals,goog.math.Vec2.sum=function(e,t){return new goog.math.Vec2(e.x+t.x,e.y+t.y)},goog.math.Vec2.difference=function(e,t){return new goog.math.Vec2(e.x-t.x,e.y-t.y)},goog.math.Vec2.dot=function(e,t){return e.x*t.x+e.y*t.y},goog.math.Vec2.lerp=function(e,t,o){return new goog.math.Vec2(goog.math.lerp(e.x,t.x,o),goog.math.lerp(e.y,t.y,o))},goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(this.creationStack=Error().stack,goog.Disposable.instances_[goog.getUid(this)]=this)},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.bind(e,t))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return e&&"function"==typeof e.isDisposed?e.isDisposed():!1},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(){for(var e=0,t=arguments.length;t>e;++e){var o=arguments[e];goog.isArrayLike(o)?goog.disposeAll.apply(null,o):goog.dispose(o)}},goog.events={},goog.events.Event=function(e,t){this.type=e,this.currentTarget=this.target=t},goog.events.Event.prototype.disposeInternal=function(){},goog.events.Event.prototype.dispose=function(){},goog.events.Event.prototype.propagationStopped_=!1,goog.events.Event.prototype.defaultPrevented=!1,goog.events.Event.prototype.returnValue_=!0,goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.events.Listenable=function(){},goog.events.Listenable.USE_LISTENABLE_INTERFACE=!1,goog.events.Listenable.IMPLEMENTED_BY_PROP_="__closure_listenable",goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP_]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP_])},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack)},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.key=0,goog.events.Listener.prototype.removed=!1,goog.events.Listener.prototype.callOnce=!1,goog.events.Listener.prototype.init=function(e,t,o,n,i,r){if(goog.isFunction(e))this.isFunctionListener_=!0;else{if(!(e&&e.handleEvent&&goog.isFunction(e.handleEvent)))throw Error("Invalid listener argument");this.isFunctionListener_=!1}this.listener=e,this.proxy=t,this.src=o,this.type=n,this.capture=!!i,this.handler=r,this.callOnce=!1,this.key=goog.events.ListenableKey.reserveKey(),this.removed=!1},goog.events.Listener.prototype.handleEvent=function(e){return this.isFunctionListener_?this.listener.call(this.handler||this.src,e):this.listener.handleEvent.call(this.listener,e)},goog.debug.errorHandlerWeakDep={protectEntryPoint:function(e){return e}},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null},goog.userAgent.getNavigator=function(){return goog.global.navigator},goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=!1,goog.userAgent.detectedIe_=!1,goog.userAgent.detectedWebkit_=!1,goog.userAgent.detectedMobile_=!1,goog.userAgent.detectedGecko_=!1;var e;if(!goog.userAgent.BROWSER_KNOWN_&&(e=goog.userAgent.getUserAgentString())){var t=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=0==e.indexOf("Opera"),goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("MSIE"),goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("WebKit"),goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&-1!=e.indexOf("Mobile"),goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&"Gecko"==t.product}},goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_(),goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_,goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_,goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_,goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_,goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11");var e=goog.userAgent.getUserAgentString();goog.userAgent.detectedAndroid_=!!e&&e.indexOf("Android")>=0,goog.userAgent.detectedIPhone_=!!e&&e.indexOf("iPhone")>=0,goog.userAgent.detectedIPad_=!!e&&e.indexOf("iPad")>=0},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.userAgent.detectedAndroid_,goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.userAgent.detectedIPhone_,goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.userAgent.detectedIPad_,goog.userAgent.determineVersion_=function(){var e,t="";return goog.userAgent.OPERA&&goog.global.opera?(t=goog.global.opera.version,t="function"==typeof t?t():t):(goog.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?e=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(goog.userAgent.getUserAgentString()))?t[1]:"")),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_(),e>parseFloat(t))?String(e):t},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionCache_={},goog.userAgent.isVersion=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionCache_[e]||(goog.userAgent.isVersionCache_[e]=goog.string.compareVersions(goog.userAgent.VERSION,e)>=0)},goog.userAgent.isDocumentMode=function(e){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=e},goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document;return e&&goog.userAgent.IE?goog.userAgent.getDocumentMode_()||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0}(),goog.object={},goog.object.forEach=function(e,t,o){for(var n in e)t.call(o,e[n],n,e)},goog.object.filter=function(e,t,o){var n,i={};for(n in e)t.call(o,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,o){var n,i={};for(n in e)i[n]=t.call(o,e[n],n,e);return i},goog.object.some=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,o){for(var n in e)if(!t.call(o,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,o=0;for(t in e)o++;return o},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,o=[],n=0;for(t in e)o[n++]=e[t];return o},goog.object.getKeys=function(e){var t,o=[],n=0;for(t in e)o[n++]=t;return o},goog.object.getValueByKeys=function(e,t){for(var o=goog.isArrayLike(t),n=o?t:arguments,o=o?0:1;n.length>o&&(e=e[n[o]],!!goog.isDef(e));o++);return e},goog.object.containsKey=function(e,t){return t in e},goog.object.containsValue=function(e,t){for(var o in e)if(e[o]==t)return!0;return!1},goog.object.findKey=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return n},goog.object.findValue=function(e,t,o){return(t=goog.object.findKey(e,t,o))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var o;return(o=t in e)&&delete e[t],o},goog.object.add=function(e,t,o){if(t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,o)},goog.object.get=function(e,t,o){return t in e?e[t]:o},goog.object.set=function(e,t,o){e[t]=o},goog.object.setIfUndefined=function(e,t,o){return t in e?e[t]:e[t]=o},goog.object.clone=function(e){var t,o={};for(t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var o,t="array"==t?[]:{};for(o in e)t[o]=goog.object.unsafeClone(e[o]);return t}return e},goog.object.transpose=function(e){var t,o={};for(t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e){for(var t,o,n=1;arguments.length>n;n++){o=arguments[n];for(t in o)e[t]=o[t];for(var i=0;goog.object.PROTOTYPE_FIELDS_.length>i;i++)t=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}},goog.object.create=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var t={},o=0;e>o;o+=2)t[arguments[o]]=arguments[o+1];return t},goog.object.createSet=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var t={},o=0;e>o;o++)t[arguments[o]]=!0;return t},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersion("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersion("8")||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersion("8")||goog.userAgent.IE&&!goog.userAgent.isVersion("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,o=0;t.length>o;o++)e(goog.bind(t[o].wrap,t[o]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),o=0;goog.debug.entryPointRegistry.refList_.length>o;o++)goog.debug.entryPointRegistry.refList_[o](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=goog.bind(e.unwrap,e);for(var o=0;goog.debug.entryPointRegistry.refList_.length>o;o++)goog.debug.entryPointRegistry.refList_[o](e);t.length--},goog.events.EventWrapper=function(){},goog.events.EventWrapper.prototype.listen=function(){},goog.events.EventWrapper.prototype.unlisten=function(){},goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:goog.userAgent.WEBKIT?"webkitTransitionEnd":goog.userAgent.OPERA?"oTransitionEnd":"transitionend",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROVER:"MSPointerOver",MSPOINTEROUT:"MSPointerOut",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend"},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(o){}return!1},goog.events.BrowserEvent=function(e,t){e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.target=null,goog.events.BrowserEvent.prototype.relatedTarget=null,goog.events.BrowserEvent.prototype.offsetX=0,goog.events.BrowserEvent.prototype.offsetY=0,goog.events.BrowserEvent.prototype.clientX=0,goog.events.BrowserEvent.prototype.clientY=0,goog.events.BrowserEvent.prototype.screenX=0,goog.events.BrowserEvent.prototype.screenY=0,goog.events.BrowserEvent.prototype.button=0,goog.events.BrowserEvent.prototype.keyCode=0,goog.events.BrowserEvent.prototype.charCode=0,goog.events.BrowserEvent.prototype.ctrlKey=!1,goog.events.BrowserEvent.prototype.altKey=!1,goog.events.BrowserEvent.prototype.shiftKey=!1,goog.events.BrowserEvent.prototype.metaKey=!1,goog.events.BrowserEvent.prototype.platformModifierKey=!1,goog.events.BrowserEvent.prototype.event_=null,goog.events.BrowserEvent.prototype.init=function(e,t){var o=this.type=e.type;goog.events.Event.call(this,o),this.target=e.target||e.srcElement,this.currentTarget=t;var n=e.relatedTarget;n?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(n,"nodeName")||(n=null)):o==goog.events.EventType.MOUSEOVER?n=e.fromElement:o==goog.events.EventType.MOUSEOUT&&(n=e.toElement),this.relatedTarget=n,this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==o?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault(),delete this.propagationStopped_},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||e.keyCode>=112&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.prototype.disposeInternal=function(){},goog.events.listeners_={},goog.events.listenerTree_={},goog.events.sources_={},goog.events.onString_="on",goog.events.onStringMap_={},goog.events.keySeparator_="_",goog.events.listen=function(e,t,o,n,i){if(goog.isArray(t)){for(var r=0;t.length>r;r++)goog.events.listen(e,t[r],o,n,i);return null}return e=goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(e)?e.listen(t,goog.events.wrapListener_(o),n,i):goog.events.listen_(e,t,o,!1,n,i),t=e.key,goog.events.listeners_[t]=e,t},goog.events.listen_=function(e,t,o,n,i,r){if(!t)throw Error("Invalid event type");i=!!i;var s=goog.events.listenerTree_;t in s||(s[t]={count_:0,remaining_:0}),s=s[t],i in s||(s[i]={count_:0,remaining_:0},s.count_++);var a,s=s[i],g=goog.getUid(e);if(s.remaining_++,s[g]){a=s[g];for(var l=0;a.length>l;l++)if(s=a[l],s.listener==o&&s.handler==r){if(s.removed)break;return n||(a[l].callOnce=!1),a[l]}}else a=s[g]=[],s.count_++;return l=goog.events.getProxy(),s=new goog.events.Listener,s.init(o,l,e,t,i,r),s.callOnce=n,l.src=e,l.listener=s,a.push(s),goog.events.sources_[g]||(goog.events.sources_[g]=[]),goog.events.sources_[g].push(s),e.addEventListener?(e==goog.global||!e.customEvent_)&&e.addEventListener(t,l,i):e.attachEvent(goog.events.getOnString_(t),l),s},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,t=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(o){return e.call(t.src,t.listener,o)}:function(o){return o=e.call(t.src,t.listener,o),o?void 0:o};return t},goog.events.listenOnce=function(e,t,o,n,i){if(goog.isArray(t)){for(var r=0;t.length>r;r++)goog.events.listenOnce(e,t[r],o,n,i);return null}return e=goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(e)?e.listenOnce(t,goog.events.wrapListener_(o),n,i):goog.events.listen_(e,t,o,!0,n,i),t=e.key,goog.events.listeners_[t]=e,t},goog.events.listenWithWrapper=function(e,t,o,n,i){t.listen(e,o,n,i)},goog.events.unlisten=function(e,t,o,n,i){if(goog.isArray(t)){for(var r=0;t.length>r;r++)goog.events.unlisten(e,t[r],o,n,i);return null}if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(e))return e.unlisten(t,goog.events.wrapListener_(o),n,i);if(n=!!n,e=goog.events.getListeners_(e,t,n),!e)return!1;for(r=0;e.length>r;r++)if(e[r].listener==o&&e[r].capture==n&&e[r].handler==i)return goog.events.unlistenByKey(e[r].key);return!1},goog.events.unlistenByKey=function(e){var t=goog.events.listeners_[e];if(!t||t.removed)return!1;var o=t.src;if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(o))return o.unlistenByKey(t);
var n=t.type,i=t.proxy,r=t.capture;return o.removeEventListener?(o==goog.global||!o.customEvent_)&&o.removeEventListener(n,i,r):o.detachEvent&&o.detachEvent(goog.events.getOnString_(n),i),o=goog.getUid(o),goog.events.sources_[o]&&(i=goog.events.sources_[o],goog.array.remove(i,t),0==i.length&&delete goog.events.sources_[o]),t.removed=!0,(t=goog.events.listenerTree_[n][r][o])&&(t.needsCleanup_=!0,goog.events.cleanUp_(n,r,o,t)),delete goog.events.listeners_[e],!0},goog.events.unlistenWithWrapper=function(e,t,o,n,i){t.unlisten(e,o,n,i)},goog.events.cleanUp=function(e){delete goog.events.listeners_[e.key]},goog.events.cleanUp_=function(e,t,o,n){if(!n.locked_&&n.needsCleanup_){for(var i=0,r=0;n.length>i;i++)n[i].removed?n[i].proxy.src=null:(i!=r&&(n[r]=n[i]),r++);n.length=r,n.needsCleanup_=!1,0==r&&(delete goog.events.listenerTree_[e][t][o],goog.events.listenerTree_[e][t].count_--,0==goog.events.listenerTree_[e][t].count_&&(delete goog.events.listenerTree_[e][t],goog.events.listenerTree_[e].count_--),0==goog.events.listenerTree_[e].count_&&delete goog.events.listenerTree_[e])}},goog.events.removeAll=function(e,t){var o=0,n=null==t;if(null!=e){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&e&&goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var i=goog.getUid(e);if(goog.events.sources_[i])for(var i=goog.events.sources_[i],r=i.length-1;r>=0;r--){var s=i[r];(n||t==s.type)&&(goog.events.unlistenByKey(s.key),o++)}}else goog.object.forEach(goog.events.listeners_,function(e,t){goog.events.unlistenByKey(t),o++});return o},goog.events.getListeners=function(e,t,o){return goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(e)?e.getListeners(t,o):goog.events.getListeners_(e,t,o)||[]},goog.events.getListeners_=function(e,t,o){var n=goog.events.listenerTree_;return t in n&&(n=n[t],o in n&&(n=n[o],e=goog.getUid(e),n[e]))?n[e]:null},goog.events.getListener=function(e,t,o,n,i){if(n=!!n,goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(e))return e.getListener(t,goog.events.wrapListener_(o),n,i);if(e=goog.events.getListeners_(e,t,n))for(t=0;e.length>t;t++)if(!e[t].removed&&e[t].listener==o&&e[t].capture==n&&e[t].handler==i)return e[t];return null},goog.events.hasListener=function(e,t,o){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(e))return e.hasListener(t,o);e=goog.getUid(e);var n=goog.events.sources_[e];if(n){var i=goog.isDef(t),r=goog.isDef(o);return i&&r?(n=goog.events.listenerTree_[t],!!n&&!!n[o]&&e in n[o]):i||r?goog.array.some(n,function(e){return i&&e.type==t||r&&e.capture==o}):!0}return!1},goog.events.expose=function(e){var t,o=[];for(t in e)e[t]&&e[t].id?o.push(t+" = "+e[t]+" ("+e[t].id+")"):o.push(t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,o,n){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.isImplementedBy(e))return e.fireListeners(t,o,n);var i=goog.events.listenerTree_;return t in i&&(i=i[t],o in i)?goog.events.fireListeners_(i[o],e,t,o,n):!0},goog.events.fireListeners_=function(e,t,o,n,i){var r=1;if(t=goog.getUid(t),e[t]){var s=--e.remaining_,a=e[t];a.locked_?a.locked_++:a.locked_=1;try{for(var g=a.length,l=0;g>l;l++){var u=a[l];u&&!u.removed&&(r&=!1!==goog.events.fireListener(u,i))}}finally{e.remaining_=Math.max(s,e.remaining_),a.locked_--,goog.events.cleanUp_(o,n,t,a)}}return Boolean(r)},goog.events.fireListener=function(e,t){return e.callOnce&&goog.events.unlistenByKey(e.key),e.handleEvent(t)},goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)},goog.events.dispatchEvent=function(e,t){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE)return e.dispatchEvent(t);var o=t.type||t,n=goog.events.listenerTree_;if(!(o in n))return!0;if(goog.isString(t))t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var i=t;t=new goog.events.Event(o,e),goog.object.extend(t,i)}var r,s,i=1,n=n[o],o=!0 in n;if(o){for(r=[],s=e;s;s=s.getParentEventTarget())r.push(s);s=n[!0],s.remaining_=s.count_;for(var a=r.length-1;!t.propagationStopped_&&a>=0&&s.remaining_;a--)t.currentTarget=r[a],i&=goog.events.fireListeners_(s,r[a],t.type,!0,t)&&!1!=t.returnValue_}if(!1 in n)if(s=n[!1],s.remaining_=s.count_,o)for(a=0;!t.propagationStopped_&&r.length>a&&s.remaining_;a++)t.currentTarget=r[a],i&=goog.events.fireListeners_(s,r[a],t.type,!1,t)&&!1!=t.returnValue_;else for(n=e;!t.propagationStopped_&&n&&s.remaining_;n=n.getParentEventTarget())t.currentTarget=n,i&=goog.events.fireListeners_(s,n,t.type,!1,t)&&!1!=t.returnValue_;return Boolean(i)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;var o=e.type,n=goog.events.listenerTree_;if(!(o in n))return!0;var i,r,n=n[o];if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){i=t||goog.getObjectByName("window.event");var s=!0 in n,a=!1 in n;if(s){if(goog.events.isMarkedIeEvent_(i))return!0;goog.events.markIeEvent_(i)}var g=new goog.events.BrowserEvent;g.init(i,this),i=!0;try{if(s){for(var l=[],u=g.currentTarget;u;u=u.parentNode)l.push(u);r=n[!0],r.remaining_=r.count_;for(var c=l.length-1;!g.propagationStopped_&&c>=0&&r.remaining_;c--)g.currentTarget=l[c],i&=goog.events.fireListeners_(r,l[c],o,!0,g);if(a)for(r=n[!1],r.remaining_=r.count_,c=0;!g.propagationStopped_&&l.length>c&&r.remaining_;c++)g.currentTarget=l[c],i&=goog.events.fireListeners_(r,l[c],o,!1,g)}else i=goog.events.fireListener(e,g)}finally{l&&(l.length=0)}return i}return o=new goog.events.BrowserEvent(t,this),i=goog.events.fireListener(e,o)},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return e.keyCode=-1,void 0}catch(o){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener_=function(e){return goog.isFunction(e)?e:e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)})},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this),goog.events.Listenable.USE_LISTENABLE_INTERFACE&&(this.eventTargetListeners_={},this.reallyDisposed_=!1,this.actualEventTarget_=this)},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.USE_LISTENABLE_INTERFACE&&goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.prototype.customEvent_=!0,goog.events.EventTarget.prototype.parentEventTarget_=null,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,o,n){goog.events.listen(this,e,t,o,n)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,o,n){goog.events.unlisten(this,e,t,o,n)},goog.events.EventTarget.prototype.dispatchEvent=function(e){if(goog.events.Listenable.USE_LISTENABLE_INTERFACE){if(this.reallyDisposed_)return!0;var t,o=this.getParentEventTarget();if(o)for(t=[];o;o=o.getParentEventTarget())t.push(o);return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t)}return goog.events.dispatchEvent(this,e)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),goog.events.Listenable.USE_LISTENABLE_INTERFACE?(this.removeAllListeners(),this.reallyDisposed_=!0):goog.events.removeAll(this),this.parentEventTarget_=null},goog.events.Listenable.USE_LISTENABLE_INTERFACE&&(goog.events.EventTarget.prototype.listen=function(e,t,o,n){return this.listenInternal_(e,t,!1,o,n)},goog.events.EventTarget.prototype.listenOnce=function(e,t,o,n){return this.listenInternal_(e,t,!0,o,n)},goog.events.EventTarget.prototype.listenInternal_=function(e,t,o,n,i){goog.asserts.assert(!this.reallyDisposed_,"Can not listen on disposed object.");var r,s=this.eventTargetListeners_[e]||(this.eventTargetListeners_[e]=[]);return r=goog.events.EventTarget.findListenerIndex_(s,t,n,i),r>-1?(r=s[r],o||(r.callOnce=!1),r):(r=new goog.events.Listener,r.init(t,null,this,e,!!n,i),r.callOnce=o,s.push(r),r)},goog.events.EventTarget.prototype.unlisten=function(e,t,o,n){return e in this.eventTargetListeners_?(e=this.eventTargetListeners_[e],t=goog.events.EventTarget.findListenerIndex_(e,t,o,n),t>-1?(o=e[t],goog.events.cleanUp(o),o.removed=!0,goog.array.removeAt(e,t)):!1):!1},goog.events.EventTarget.prototype.unlistenByKey=function(e){var t=e.type;return t in this.eventTargetListeners_?((t=goog.array.remove(this.eventTargetListeners_[t],e))&&(goog.events.cleanUp(e),e.removed=!0),t):!1},goog.events.EventTarget.prototype.removeAllListeners=function(e){var t,o=0;for(t in this.eventTargetListeners_)if(!e||t==e){for(var n=this.eventTargetListeners_[t],i=0;n.length>i;i++)++o,goog.events.cleanUp(n[i]),n[i].removed=!0;n.length=0}return o},goog.events.EventTarget.prototype.fireListeners=function(e,t,o){if(goog.asserts.assert(!this.reallyDisposed_,"Can not fire listeners after dispose() completed."),!(e in this.eventTargetListeners_))return!0;var n=!0;e=goog.array.clone(this.eventTargetListeners_[e]);for(var i=0;e.length>i;++i){var r=e[i];r&&!r.removed&&r.capture==t&&(r.callOnce&&this.unlistenByKey(r),n=!1!==r.handleEvent(o)&&n)}return n&&!1!=o.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,t){var o=this.eventTargetListeners_[e],n=[];if(o)for(var i=0;o.length>i;++i){var r=o[i];r.capture==t&&n.push(r)}return n},goog.events.EventTarget.prototype.getListener=function(e,t,o,n){e=this.eventTargetListeners_[e];var i=-1;return e&&(i=goog.events.EventTarget.findListenerIndex_(e,t,o,n)),i>-1?e[i]:null},goog.events.EventTarget.prototype.hasListener=function(e,t){var o=goog.isDef(e),n=goog.isDef(t);return goog.object.some(this.eventTargetListeners_,function(i){for(var r=0;i.length>r;++r)if(!(o&&i[r].type!=e||n&&i[r].capture!=t))return!0;return!1})},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.dispatchEventInternal_=function(e,t,o){var n=t.type||t;if(goog.isString(t))t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var i=t;t=new goog.events.Event(n,e),goog.object.extend(t,i)}var r,i=!0;if(o)for(var s=o.length-1;!t.propagationStopped_&&s>=0;s--)r=t.currentTarget=o[s],i=r.fireListeners(n,!0,t)&&i;if(t.propagationStopped_||(r=t.currentTarget=e,i=r.fireListeners(n,!0,t)&&i,t.propagationStopped_||(i=r.fireListeners(n,!1,t)&&i)),o)for(s=0;!t.propagationStopped_&&o.length>s;s++)r=t.currentTarget=o[s],i=r.fireListeners(n,!1,t)&&i;return i},goog.events.EventTarget.findListenerIndex_=function(e,t,o,n){for(var i=0;e.length>i;++i){var r=e[i];if(r.listener==t&&r.capture==!!o&&r.handler==n)return i}return-1}),lime.userAgent={},function(){var e=goog.userAgent.getUserAgentString();lime.userAgent.IOS=goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&/(ipod|iphone|ipad)/i.test(e),lime.userAgent.IOS5=lime.userAgent.IOS&&goog.isFunction(Object.freeze),lime.userAgent.ANDROID=goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&/(android)/i.test(e),lime.userAgent.WINPHONE=goog.userAgent.MOBILE&&/(iemobile)/i.test(e),lime.userAgent.IPAD=lime.userAgent.IOS&&/(ipad)/i.test(e),lime.userAgent.IPHONE4=lime.userAgent.IOS&&goog.global.devicePixelRatio>=2,lime.userAgent.PLAYBOOK=goog.userAgent.WEBKIT&&/playbook/i.test(e),lime.userAgent.SUPPORTS_TOUCH=goog.isDef(document.ontouchmove)}(),goog.math.Rect=function(e,t,o,n){this.left=e,this.top=t,this.width=o,this.height=n},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t?!0:e&&t?e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height:!1},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),o=Math.min(this.left+this.width,e.left+e.width);if(o>=t){var n=Math.max(this.top,e.top);if(e=Math.min(this.top+this.height,e.top+e.height),e>=n)return this.left=t,this.top=n,this.width=o-t,this.height=e-n,!0}return!1},goog.math.Rect.intersection=function(e,t){var o=Math.max(e.left,t.left),n=Math.min(e.left+e.width,t.left+t.width);if(n>=o){var i=Math.max(e.top,t.top),r=Math.min(e.top+e.height,t.top+t.height);if(r>=i)return new goog.math.Rect(o,i,n-o,r-i)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){var o=goog.math.Rect.intersection(e,t);if(!o||!o.height||!o.width)return[e.clone()];var o=[],n=e.top,i=e.height,r=e.left+e.width,s=e.top+e.height,a=t.left+t.width,g=t.top+t.height;return t.top>e.top&&(o.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),n=t.top,i-=t.top-e.top),s>g&&(o.push(new goog.math.Rect(e.left,g,e.width,s-g)),i=g-n),t.left>e.left&&o.push(new goog.math.Rect(e.left,n,t.left-e.left,i)),r>a&&o.push(new goog.math.Rect(a,n,r-a,i)),o},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),o=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=o-this.top},goog.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var o=e.clone();return o.boundingRect(t),o},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=e,goog.isNumber(t)&&(this.top+=t)),this},goog.math.Rect.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.left*=e,this.width*=e,this.top*=o,this.height*=o,this},goog.dom={},goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.classes={},goog.dom.classes.set=function(e,t){e.className=t},goog.dom.classes.get=function(e){return e=e.className,goog.isString(e)&&e.match(/\S+/g)||[]},goog.dom.classes.add=function(e){var t=goog.dom.classes.get(e),o=goog.array.slice(arguments,1),n=t.length+o.length;return goog.dom.classes.add_(t,o),goog.dom.classes.set(e,t.join(" ")),t.length==n},goog.dom.classes.remove=function(e){var t=goog.dom.classes.get(e),o=goog.array.slice(arguments,1),n=goog.dom.classes.getDifference_(t,o);return goog.dom.classes.set(e,n.join(" ")),n.length==t.length-o.length},goog.dom.classes.add_=function(e,t){for(var o=0;t.length>o;o++)goog.array.contains(e,t[o])||e.push(t[o])},goog.dom.classes.getDifference_=function(e,t){return goog.array.filter(e,function(e){return!goog.array.contains(t,e)})},goog.dom.classes.swap=function(e,t,o){for(var n=goog.dom.classes.get(e),i=!1,r=0;n.length>r;r++)n[r]==t&&(goog.array.splice(n,r--,1),i=!0);return i&&(n.push(o),goog.dom.classes.set(e,n.join(" "))),i},goog.dom.classes.addRemove=function(e,t,o){var n=goog.dom.classes.get(e);goog.isString(t)?goog.array.remove(n,t):goog.isArray(t)&&(n=goog.dom.classes.getDifference_(n,t)),goog.isString(o)&&!goog.array.contains(n,o)?n.push(o):goog.isArray(o)&&goog.dom.classes.add_(n,o),goog.dom.classes.set(e,n.join(" "))},goog.dom.classes.has=function(e,t){return goog.array.contains(goog.dom.classes.get(e),t)},goog.dom.classes.enable=function(e,t,o){o?goog.dom.classes.add(e,t):goog.dom.classes.remove(e,t)},goog.dom.classes.toggle=function(e,t){var o=!goog.dom.classes.has(e,t);return goog.dom.classes.enable(e,t,o),o},goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentMode(9)||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.isString(e)?document.getElementById(e):e},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(document,e,t,o)},goog.dom.getElementsByClass=function(e,t){var o=t||document;return goog.dom.canUseQuerySelector_(o)?o.querySelectorAll("."+e):o.getElementsByClassName?o.getElementsByClassName(e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var o=t||document,n=null;return(n=goog.dom.canUseQuerySelector_(o)?o.querySelector("."+e):goog.dom.getElementsByClass(e,t)[0])||null},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,o,n){if(e=n||e,t=t&&"*"!=t?t.toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(t||o))return e.querySelectorAll(t+(o?"."+o:""));if(o&&e.getElementsByClassName){if(e=e.getElementsByClassName(o),t){n={};for(var i,r=0,s=0;i=e[s];s++)t==i.nodeName&&(n[r++]=i);return n.length=r,n}return e}if(e=e.getElementsByTagName(t||"*"),o){for(n={},s=r=0;i=e[s];s++)t=i.className,"function"==typeof t.split&&goog.array.contains(t.split(/\s+/),o)&&(n[r++]=i);return n.length=r,n}return e},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,t){goog.object.forEach(t,function(t,o){"style"==o?e.style.cssText=t:"class"==o?e.className=t:"for"==o?e.htmlFor=t:o in goog.dom.DIRECT_ATTRIBUTE_MAP_?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o],t):goog.string.startsWith(o,"aria-")||goog.string.startsWith(o,"data-")?e.setAttribute(o,t):e[o]=t})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeight_=function(e){var t=e.document,o=0;if(t){e=goog.dom.getViewportSize_(e).height;var o=t.body,n=t.documentElement;if(goog.dom.isCss1CompatMode_(t)&&n.scrollHeight)o=n.scrollHeight!=e?n.scrollHeight:n.offsetHeight;else{var t=n.scrollHeight,i=n.offsetHeight;n.clientHeight!=i&&(t=o.scrollHeight,i=o.offsetHeight),o=t>e?t>i?t:i:i>t?t:i}}return o},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e);return e=goog.dom.getWindow_(e),new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var o=t[0],n=t[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&n&&(n.name||n.type)){if(o=["<",o],n.name&&o.push(' name="',goog.string.htmlEscape(n.name),'"'),n.type){o.push(' type="',goog.string.htmlEscape(n.type),'"');var i={};goog.object.extend(i,n),delete i.type,n=i}o.push(">"),o=o.join("")}return o=e.createElement(o),n&&(goog.isString(n)?o.className=n:goog.isArray(n)?goog.dom.classes.add.apply(null,[o].concat(n)):goog.dom.setProperties(o,n)),t.length>2&&goog.dom.append_(e,o,t,2),o},goog.dom.append_=function(e,t,o,n){function i(o){o&&t.appendChild(goog.isString(o)?e.createTextNode(o):o)}for(;o.length>n;n++){var r=o[n];goog.isArrayLike(r)&&!goog.dom.isNodeLike(r)?goog.array.forEach(goog.dom.isNodeList(r)?goog.array.toArray(r):r,i):i(r)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return document.createElement(e)},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,o){return goog.dom.createTable_(document,e,t,!!o)},goog.dom.createTable_=function(e,t,o,n){for(var i=["<tr>"],r=0;o>r;r++)i.push(n?"<td>&nbsp;</td>":"<td></td>");for(i.push("</tr>"),i=i.join(""),o=["<table>"],r=0;t>r;r++)o.push(i);return o.push("</table>"),e=e.createElement(goog.dom.TagName.DIV),e.innerHTML=o.join(""),e.removeChild(e.firstChild)},goog.dom.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(document,e)},goog.dom.htmlToDocumentFragment_=function(e,t){var o=e.createElement("div");if(goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(o.innerHTML="<br>"+t,o.removeChild(o.firstChild)):o.innerHTML=t,1==o.childNodes.length)return o.removeChild(o.firstChild);for(var n=e.createDocumentFragment();o.firstChild;)n.appendChild(o.firstChild);return n},goog.dom.getCompatMode=function(){return goog.dom.isCss1CompatMode()?"CSS1Compat":"BackCompat"},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,o){e.insertBefore(t,e.childNodes[o]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,o=e.parentNode;if(o&&o.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)o.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return void 0!=e.firstElementChild?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return void 0!=e.lastElementChild?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return void 0!=e.nextElementSibling?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return void 0!=e.previousElementSibling?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&e.nodeType>0},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY?e.parentElement:(e=e.parentNode,goog.dom.isElement(e)?e:null)},goog.dom.contains=function(e,t){if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if("undefined"!=typeof e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var o=e.nodeType==goog.dom.NodeType.ELEMENT,n=t.nodeType==goog.dom.NodeType.ELEMENT;if(o&&n)return e.sourceIndex-t.sourceIndex;var i=e.parentNode,r=t.parentNode;return i==r?goog.dom.compareSiblingOrder_(e,t):!o&&goog.dom.contains(i,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!n&&goog.dom.contains(r,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(o?e.sourceIndex:i.sourceIndex)-(n?t.sourceIndex:r.sourceIndex)}return n=goog.dom.getOwnerDocument(e),o=n.createRange(),o.selectNode(e),o.collapse(!0),n=n.createRange(),n.selectNode(t),n.collapse(!0),o.compareBoundaryPoints(goog.global.Range.START_TO_END,n)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var o=e.parentNode;if(o==t)return-1;for(var n=t;n.parentNode!=o;)n=n.parentNode;return goog.dom.compareSiblingOrder_(n,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var o=t;o=o.previousSibling;)if(o==e)return-1;return 1},goog.dom.findCommonAncestor=function(){var e,t=arguments.length;if(!t)return null;if(1==t)return arguments[0];var o=[],n=1/0;for(e=0;t>e;e++){for(var i=[],r=arguments[e];r;)i.unshift(r),r=r.parentNode;o.push(i),n=Math.min(n,i.length)}for(i=null,e=0;n>e;e++){for(var r=o[0][e],s=1;t>s;s++)if(r!=o[s][e])return i;i=r}return i},goog.dom.getOwnerDocument=function(e){return e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){return e.contentWindow||goog.dom.getWindow_(goog.dom.getFrameContentDocument(e))},goog.dom.setTextContent=function(e,t){if("textContent"in e)e.textContent=t;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{goog.dom.removeChildren(e);var o=goog.dom.getOwnerDocument(e);e.appendChild(o.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e).createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!0)?o[0]:void 0},goog.dom.findNodes=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!1),o},goog.dom.findNodes_=function(e,t,o,n){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(o.push(e),n)||goog.dom.findNodes_(e,t,o,n))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?(e=e.tabIndex,goog.isNumber(e)&&e>=0&&32768>e):!1},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))
},goog.dom.getTextContent=function(e){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e)e=goog.string.canonicalizeNewlines(e.innerText);else{var t=[];goog.dom.getTextContent_(e,t,!0),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,o){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)o?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,t,o),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var o=t||goog.dom.getOwnerDocument(e).body,n=[];e&&e!=o;){for(var i=e;i=i.previousSibling;)n.unshift(goog.dom.getTextContent(i));e=e.parentNode}return goog.string.trimLeft(n.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,o){e=[e];for(var n=0,i=null;e.length>0&&t>n;)if(i=e.pop(),!(i.nodeName in goog.dom.TAGS_TO_IGNORE_))if(i.nodeType==goog.dom.NodeType.TEXT)var r=i.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),n=n+r.length;else if(i.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[i.nodeName].length;else for(r=i.childNodes.length-1;r>=0;r--)e.push(i.childNodes[r]);return goog.isObject(o)&&(o.remainder=i?i.nodeValue.length+t-n-1:0,o.node=i),i},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,o){if(!t&&!o)return null;var n=t?t.toUpperCase():null;return goog.dom.getAncestor(e,function(e){return!(n&&e.nodeName!=n||o&&!goog.dom.classes.has(e,o))},!0)},goog.dom.getAncestorByClass=function(e,t){return goog.dom.getAncestorByTagNameAndClass(e,null,t)},goog.dom.getAncestor=function(e,t,o,n){o||(e=e.parentNode),o=null==n;for(var i=0;e&&(o||n>=i);){if(t(e))return e;e=e.parentNode,i++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(t){}return null},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.isString(e)?this.document_.getElementById(e):e},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,o)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,o){return goog.dom.createTable_(this.document_,e,t,!!o)},goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(this.document_,e)},goog.dom.DomHelper.prototype.getCompatMode=function(){return this.isCss1CompatMode()?"CSS1Compat":"BackCompat"},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.style={},goog.style.setStyle=function(e,t,o){goog.isString(t)?goog.style.setStyle_(e,o,t):goog.object.forEach(t,goog.partial(goog.style.setStyle_,e))},goog.style.setStyle_=function(e,t,o){(o=goog.style.getVendorJsStyleName_(e,o))&&(e.style[o]=t)},goog.style.getVendorJsStyleName_=function(e,t){var o=goog.string.toCamelCase(t);if(void 0===e.style[o]){var n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(t);if(void 0!==e.style[n])return n}return o},goog.style.getVendorStyleName_=function(e,t){var o=goog.string.toCamelCase(t);return void 0===e.style[o]&&(o=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(t),void 0!==e.style[o])?goog.dom.vendor.getVendorPrefix()+"-"+t:t},goog.style.getStyle=function(e,t){var o=e.style[goog.string.toCamelCase(t)];return"undefined"!=typeof o?o:e.style[goog.style.getVendorJsStyleName_(e,t)]||""},goog.style.getComputedStyle=function(e,t){var o=goog.dom.getOwnerDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(o=o.defaultView.getComputedStyle(e,null))?o[t]||o.getPropertyValue(t)||"":""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.setPosition=function(e,t,o){var n,i=goog.userAgent.GECKO&&(goog.userAgent.MAC||goog.userAgent.X11)&&goog.userAgent.isVersion("1.9");t instanceof goog.math.Coordinate?(n=t.x,t=t.y):(n=t,t=o),e.style.left=goog.style.getPixelStyleValue_(n,i),e.style.top=goog.style.getPixelStyleValue_(t,i)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){return e=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentMode(9)||goog.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},goog.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new goog.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},goog.style.getBoundingClientRect_=function(e){var t=e.getBoundingClientRect();return goog.userAgent.IE&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(8))return e.offsetParent;var t=goog.dom.getOwnerDocument(e),o=goog.style.getStyle_(e,"position"),n="fixed"==o||"absolute"==o;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(o=goog.style.getStyle_(e,"position"),n=n&&"static"==o&&e!=t.documentElement&&e!=t.body,!n&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==o||"absolute"==o||"relative"==o))return e;return null},goog.style.getVisibleRectForElement=function(e){for(var t=new goog.math.Box(0,1/0,1/0,0),o=goog.dom.getDomHelper(e),n=o.getDocument().body,i=o.getDocument().documentElement,r=o.getDocumentScrollElement();e=goog.style.getOffsetParent(e);)if(!(goog.userAgent.IE&&0==e.clientWidth||goog.userAgent.WEBKIT&&0==e.clientHeight&&e==n||e==n||e==i||"visible"==goog.style.getStyle_(e,"overflow"))){var s=goog.style.getPageOffset(e),a=goog.style.getClientLeftTop(e);s.x+=a.x,s.y+=a.y,t.top=Math.max(t.top,s.y),t.right=Math.min(t.right,s.x+e.clientWidth),t.bottom=Math.min(t.bottom,s.y+e.clientHeight),t.left=Math.max(t.left,s.x)}return n=r.scrollLeft,r=r.scrollTop,t.left=Math.max(t.left,n),t.top=Math.max(t.top,r),o=o.getViewportSize(),t.right=Math.min(t.right,n+o.width),t.bottom=Math.min(t.bottom,r+o.height),t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null},goog.style.getContainerOffsetToScrollInto=function(e,t,o){var n=goog.style.getPageOffset(e),i=goog.style.getPageOffset(t),r=goog.style.getBorderBox(t),s=n.x-i.x-r.left,n=n.y-i.y-r.top,i=t.clientWidth-e.offsetWidth;return e=t.clientHeight-e.offsetHeight,r=t.scrollLeft,t=t.scrollTop,o?(r+=s-i/2,t+=n-e/2):(r+=Math.min(s,Math.max(s-i,0)),t+=Math.min(n,Math.max(n-e,0))),new goog.math.Coordinate(r,t)},goog.style.scrollIntoContainerView=function(e,t,o){e=goog.style.getContainerOffsetToScrollInto(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},goog.style.getClientLeftTop=function(e){if(goog.userAgent.GECKO&&!goog.userAgent.isVersion("1.9")){var t=parseFloat(goog.style.getComputedStyle(e,"borderLeftWidth"));if(goog.style.isRightToLeft(e))var o=e.offsetWidth-e.clientWidth-t-parseFloat(goog.style.getComputedStyle(e,"borderRightWidth")),t=t+o;return new goog.math.Coordinate(t,parseFloat(goog.style.getComputedStyle(e,"borderTopWidth")))}return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var t,o=goog.dom.getOwnerDocument(e),n=goog.style.getStyle_(e,"position");goog.asserts.assertObject(e,"Parameter is required");var i=goog.userAgent.GECKO&&o.getBoxObjectFor&&!e.getBoundingClientRect&&"absolute"==n&&(t=o.getBoxObjectFor(e))&&(0>t.screenX||0>t.screenY),r=new goog.math.Coordinate(0,0),s=goog.style.getClientViewportElement(o);if(e==s)return r;if(e.getBoundingClientRect)t=goog.style.getBoundingClientRect_(e),e=goog.dom.getDomHelper(o).getDocumentScroll(),r.x=t.left+e.x,r.y=t.top+e.y;else if(o.getBoxObjectFor&&!i)t=o.getBoxObjectFor(e),e=o.getBoxObjectFor(s),r.x=t.screenX-e.screenX,r.y=t.screenY-e.screenY;else{t=e;do{if(r.x+=t.offsetLeft,r.y+=t.offsetTop,t!=e&&(r.x+=t.clientLeft||0,r.y+=t.clientTop||0),goog.userAgent.WEBKIT&&"fixed"==goog.style.getComputedPosition(t)){r.x+=o.body.scrollLeft,r.y+=o.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((goog.userAgent.OPERA||goog.userAgent.WEBKIT&&"absolute"==n)&&(r.y-=o.body.offsetTop),t=e;(t=goog.style.getOffsetParent(t))&&t!=o.body&&t!=s;)r.x-=t.scrollLeft,goog.userAgent.OPERA&&"TR"==t.tagName||(r.y-=t.scrollTop)}return r},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var o=new goog.math.Coordinate(0,0),n=goog.dom.getWindow(goog.dom.getOwnerDocument(e)),i=e;do{var r=n==t?goog.style.getPageOffset(i):goog.style.getClientPosition(i);o.x+=r.x,o.y+=r.y}while(n&&n!=t&&(i=n.frameElement)&&(n=n.parent));return o},goog.style.translateRectForAnotherFrame=function(e,t,o){if(t.getDocument()!=o.getDocument()){var n=t.getDocument().body;o=goog.style.getFramedPageOffset(n,o.getWindow()),o=goog.math.Coordinate.difference(o,goog.style.getPageOffset(n)),goog.userAgent.IE&&!t.isCss1CompatMode()&&(o=goog.math.Coordinate.difference(o,t.getDocumentScroll())),e.left+=o.x,e.top+=o.y}},goog.style.getRelativePosition=function(e,t){var o=goog.style.getClientPosition(e),n=goog.style.getClientPosition(t);return new goog.math.Coordinate(o.x-n.x,o.y-n.y)},goog.style.getClientPosition=function(e){var t=new goog.math.Coordinate;if(e.nodeType==goog.dom.NodeType.ELEMENT){if(e.getBoundingClientRect){var o=goog.style.getBoundingClientRect_(e);t.x=o.left,t.y=o.top}else{var o=goog.dom.getDomHelper(e).getDocumentScroll(),n=goog.style.getPageOffset(e);t.x=n.x-o.x,t.y=n.y-o.y}goog.userAgent.GECKO&&!goog.userAgent.isVersion(12)&&(t=goog.math.Coordinate.sum(t,goog.style.getCssTranslation(e)))}else o=goog.isFunction(e.getBrowserEvent),n=e,e.targetTouches?n=e.targetTouches[0]:o&&e.getBrowserEvent().targetTouches&&(n=e.getBrowserEvent().targetTouches[0]),t.x=n.clientX,t.y=n.clientY;return t},goog.style.setPageOffset=function(e,t,o){var n=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(o=t.y,t=t.x),goog.style.setPosition(e,e.offsetLeft+(t-n.x),e.offsetTop+(o-n.y))},goog.style.setSize=function(e,t,o){if(t instanceof goog.math.Size)o=t.height,t=t.width;else if(void 0==o)throw Error("missing height argument");goog.style.setWidth(e,t),goog.style.setHeight(e,o)},goog.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)},goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){if("none"!=goog.style.getStyle_(e,"display"))return goog.style.getSizeWithDisplay_(e);var t=e.style,o=t.display,n=t.visibility,i=t.position;return t.visibility="hidden",t.position="absolute",t.display="inline",e=goog.style.getSizeWithDisplay_(e),t.display=o,t.position=i,t.visibility=n,e},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,o=e.offsetHeight,n=goog.userAgent.WEBKIT&&!t&&!o;return goog.isDef(t)&&!n||!e.getBoundingClientRect?new goog.math.Size(t,o):(e=goog.style.getBoundingClientRect_(e),new goog.math.Size(e.right-e.left,e.bottom-e.top))},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e);return e=goog.style.getSize(e),new goog.math.Rect(t.x,t.y,e.width,e.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},goog.style.setOpacity=function(e,t){var o=e.style;"opacity"in o?o.opacity=t:"MozOpacity"in o?o.MozOpacity=t:"filter"in o&&(o.filter=""===t?"":"alpha(opacity="+100*t+")")},goog.style.setTransparentBackgroundImage=function(e,t){var o=e.style;goog.userAgent.IE&&!goog.userAgent.isVersion("8")?o.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(o.backgroundImage="url("+t+")",o.backgroundPosition="top left",o.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){e=e.style,"filter"in e?e.filter="":e.backgroundImage="none"},goog.style.showElement=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installStyles=function(e,t){var o=goog.dom.getDomHelper(t),n=null;if(goog.userAgent.IE)n=o.getDocument().createStyleSheet(),goog.style.setStyles(n,e);else{var i=o.getElementsByTagNameAndClass("head")[0];i||(n=o.getElementsByTagNameAndClass("body")[0],i=o.createDom("head"),n.parentNode.insertBefore(i,n)),n=o.createDom("style"),goog.style.setStyles(n,e),o.appendChild(i,n)}return n},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setStyles=function(e,t){goog.userAgent.IE?e.cssText=t:e.innerHTML=t},goog.style.setPreWrap=function(e){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){e=e.style,e.position="relative",goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(e.zoom="1",e.display="inline"):e.display=goog.userAgent.GECKO?goog.userAgent.isVersion("1.9a")?"inline-block":"-moz-inline-box":"inline-block"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==e.getAttribute("unselectable"):!1},goog.style.setUnselectable=function(e,t,o){o=o?null:e.getElementsByTagName("*");var n=goog.style.unselectableStyle_;if(n){if(t=t?"none":"",e.style[n]=t,o){e=0;for(var i;i=o[e];e++)i.style[n]=t}}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),o))for(e=0;i=o[e];e++)i.setAttribute("unselectable",t)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||n&&goog.userAgent.isVersion("8"))goog.style.setBoxSizingSize_(e,t,"border-box");else if(o=e.style,n){var n=goog.style.getPaddingBox(e),i=goog.style.getBorderBox(e);o.pixelWidth=t.width-i.left-n.left-n.right-i.right,o.pixelHeight=t.height-i.top-n.top-n.bottom-i.bottom}else o.pixelWidth=t.width,o.pixelHeight=t.height},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),o=goog.userAgent.IE&&e.currentStyle;return o&&goog.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=o.width&&"auto"!=o.height&&!o.boxSizing?(t=goog.style.getIePixelValue_(e,o.width,"width","pixelWidth"),e=goog.style.getIePixelValue_(e,o.height,"height","pixelHeight"),new goog.math.Size(t,e)):(o=goog.style.getBorderBoxSize(e),t=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),new goog.math.Size(o.width-e.left-t.left-t.right-e.right,o.height-e.top-t.top-t.bottom-e.bottom))},goog.style.setContentBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||n&&goog.userAgent.isVersion("8"))goog.style.setBoxSizingSize_(e,t,"content-box");else if(o=e.style,n)o.pixelWidth=t.width,o.pixelHeight=t.height;else{var n=goog.style.getPaddingBox(e),i=goog.style.getBorderBox(e);o.pixelWidth=t.width+i.left+n.left+n.right+i.right,o.pixelHeight=t.height+i.top+n.top+n.bottom+i.bottom}},goog.style.setBoxSizingSize_=function(e,t,o){e=e.style,goog.userAgent.GECKO?e.MozBoxSizing=o:goog.userAgent.WEBKIT?e.WebkitBoxSizing=o:e.boxSizing=o,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,o,n){if(/^\d+px?$/.test(t))return parseInt(t,10);var i=e.style[o],r=e.runtimeStyle[o];return e.runtimeStyle[o]=e.currentStyle[o],e.style[o]=t,t=e.style[n],e.style[o]=i,e.runtimeStyle[o]=r,t},goog.style.getIePixelDistance_=function(e,t){var o=goog.style.getCascadedStyle(e,t);return o?goog.style.getIePixelValue_(e,o,"left","pixelLeft"):0},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var o=goog.style.getIePixelDistance_(e,t+"Left"),n=goog.style.getIePixelDistance_(e,t+"Right"),i=goog.style.getIePixelDistance_(e,t+"Top"),r=goog.style.getIePixelDistance_(e,t+"Bottom");return new goog.math.Box(i,n,r,o)}return o=goog.style.getComputedStyle(e,t+"Left"),n=goog.style.getComputedStyle(e,t+"Right"),i=goog.style.getComputedStyle(e,t+"Top"),r=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(i),parseFloat(n),parseFloat(r),parseFloat(o))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){if("none"==goog.style.getCascadedStyle(e,t+"Style"))return 0;var o=goog.style.getCascadedStyle(e,t+"Width");return o in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[o]:goog.style.getIePixelValue_(e,o,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE){var t=goog.style.getIePixelBorder_(e,"borderLeft"),o=goog.style.getIePixelBorder_(e,"borderRight"),n=goog.style.getIePixelBorder_(e,"borderTop");return e=goog.style.getIePixelBorder_(e,"borderBottom"),new goog.math.Box(n,o,e,t)}return t=goog.style.getComputedStyle(e,"borderLeftWidth"),o=goog.style.getComputedStyle(e,"borderRightWidth"),n=goog.style.getComputedStyle(e,"borderTopWidth"),e=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(n),parseFloat(o),parseFloat(e),parseFloat(t))},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),o="";if(t.body.createTextRange){t=t.body.createTextRange(),t.moveToElementText(e);try{o=t.queryCommandValue("FontName")}catch(n){o=""}}return o||(o=goog.style.getStyle_(e,"fontFamily")),e=o.split(","),e.length>1&&(o=e[0]),goog.string.stripQuotes(o,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){return(e=e.match(goog.style.lengthUnitRegex_))&&e[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),o=goog.style.getLengthUnits(t);if(t&&"px"==o)return parseInt(t,10);if(goog.userAgent.IE){if(o in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&o in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,o=goog.style.getStyle_(e,"fontSize"),goog.style.getIePixelValue_(e,t==o?"1em":t,"left","pixelLeft")}return o=goog.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(e,o),t=o.offsetHeight,goog.dom.removeNode(o),t},goog.style.parseStyleAttribute=function(e){var t={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){e=e.split(/\s*:\s*/),2==e.length&&(t[goog.string.toCamelCase(e[0].toLowerCase())]=e[1])}),t},goog.style.toStyleAttribute=function(e){var t=[];return goog.object.forEach(e,function(e,o){t.push(goog.string.toSelectorCase(o),":",e,";")}),t.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement("div");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=goog.dom.createElement("div"),goog.style.setSize(e,"200px","200px"),t.appendChild(e),goog.dom.appendChild(goog.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,goog.dom.removeNode(t),e},goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,goog.style.getCssTranslation=function(e){var t;goog.userAgent.IE?t="-ms-transform":goog.userAgent.WEBKIT?t="-webkit-transform":goog.userAgent.OPERA?t="-o-transform":goog.userAgent.GECKO&&(t="-moz-transform");var o;return t&&(o=goog.style.getStyle_(e,t)),o||(o=goog.style.getStyle_(e,"transform")),o?(e=o.match(goog.style.MATRIX_TRANSLATION_REGEX_),e?new goog.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new goog.math.Coordinate(0,0)):new goog.math.Coordinate(0,0)},lime.style={},function(){var e=goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.OPERA?"O":goog.userAgent.IE?"ms":"",t=goog.dom.createDom("div").style;lime.style.transformProperty="-"+e.toLowerCase()+"-transform",lime.style.tryProperty=function(e){return void 0!==t[e]?e:!1},lime.style.getCSSproperty=function(t){var o=t.charAt(0).toLowerCase()+t.substr(1),n=e+t;return lime.style.tryProperty(t)?t:lime.style.tryProperty(o)?o:lime.style.tryProperty(n)?n:void 0}}(),lime.style.setBorderRadius=function(){var e=lime.style.getCSSproperty("BorderRadius");return function(t,o,n,i){i=i?"%":"px",n=goog.isDef(n)?n:o,o=(goog.isArray(o)?o.join(i+" "):o)+i+"/"+((goog.isArray(n)?n.join(i+" "):n)+i),o!=t.border_radius_cache_&&(t.style[e]=t.border_radius_cache_=o)}}(),lime.style.Transform=function(e){this.values=[],this.precision=1,this.enable3D_=!0,this.opt_precision&&this.setPrecision(e)},lime.style.Transform.prototype.set3DAllowed=function(e){return this.enable3D_=e,this},lime.style.Transform.prototype.scale=function(e,t){return this.values.push("scale("+e+","+t+")"),this},lime.style.Transform.prototype.rotate=function(e,t){var o;return o=this.enable3D_&&(lime.userAgent.IOS||lime.userAgent.PLAYBOOK)?"rotate3d(0, 0, 1, "+e+(t?t:"deg")+")":"rotate("+e+(t?t:"deg")+")",0!=e&&this.values.push(o),this},lime.style.Transform.prototype.translate=function(e,t,o){var n=1/this.precision,i="translate";return this.enable3D_&&(lime.userAgent.IOS||lime.userAgent.PLAYBOOK)&&(i+="3d"),i+="("+e*n+"px,"+t*n+"px",this.enable3D_&&(lime.userAgent.IOS||lime.userAgent.PLAYBOOK)&&(i+=","+(o?o:0)*n+"px"),this.values.push(i+")"),this},lime.style.Transform.prototype.setPrecision=function(e){if(1!=this.precision){var t=1/this.precision;this.scale(t,t),this.precision=1}return 1!=e&&(this.scale(e,e),this.precision=e),this},lime.style.Transform.prototype.toString=function(){return 1!=this.precision&&this.setPrecision(1),this.values.join(" ")},lime.style.setTransform=function(){var e=lime.style.getCSSproperty("Transform");return function(t,o){var n=o.toString();n!=t.transform_cache_&&(t.style[e]=t.transform_cache_=n),lime.transformSet_=1}}(),lime.style.setTransformOrigin=function(){var e=lime.style.getCSSproperty("TransformOrigin");return function(t,o,n,i){i=i?"%":"px",o=o+i+" "+n+i,o!=t.transform_origin_cache_&&(t.style[e]=t.transform_origin_cache_=o)}}(),function(){var e=lime.style.getCSSproperty("Transition");lime.style.isTransitionsSupported=!!e&&!goog.userAgent.OPERA;var t=function(e,t){if(!e.length)return e;for(var o=e.split("),"),n=0;o.length-1>n;n++)o[n]+=")";return o=goog.array.filter(o,function(e){return-1==e.indexOf(t)}),o.join(",")};lime.style.setTransition=function(o,n,i,r){if(e){var s=t(o.style[e],n);s.length&&(s+=", "),s+=n+" "+i+"s cubic-bezier("+r[1]+","+r[2]+","+r[3]+","+r[4]+")",o.style[e]=s}},lime.style.clearTransition=function(o,n){e&&o&&(o.style[e]=t(o.style[e],n))},lime.style.setSize=function(e,t,o){return e.width_cache_!=t||e.height_cache_!=o?(e.width_cache_=t,e.height_cache_=o,goog.style.setSize(e,t,o)):void 0}}(),lime.Renderer.DOM=new lime.Renderer,lime.Renderer.DOM.updateLayout=function(){for(var e,t=0,o=0;e=this.children_[o];o++)e=e instanceof lime.Node?e.rootElement:e,e==this.domElement.childNodes[t]?t++:(goog.dom.contains(this.containerElement,e)&&goog.dom.removeNode(e),lime.Renderer.DOM.appendAt_(this.containerElement,e,t++))},lime.Renderer.DOM.drawSizePosition=function(){var e=this.getSize(),t=this.getQuality(),o=this.getPosition(),n=this.relativeQuality_||1,i=this.getCSS3DTransformsAllowed();this.transitionsActive_[lime.Transition.POSITION]&&(o=this.transitionsActive_[lime.Transition.POSITION]);var r=Math.round(e.width*n),s=Math.round(e.height*n),a=this.getScale().clone();this.transitionsActive_[lime.Transition.SCALE]&&(a=this.transitionsActive_[lime.Transition.SCALE].clone()),0!=r?a.scale(e.width/(r*t/n)):a.scale(1/t),lime.style.setSize(this.domElement,r,s),lime.style.setTransformOrigin(this.domElement,100*this.anchorPoint_.x,100*this.anchorPoint_.y,!0),r=this.anchorPoint_.x*e.width*n,s=this.anchorPoint_.y*e.height*n,e=o.x*n/t-r,t=o.y*n/t-s,o=this.stroke_?this.stroke_.width_:0,(0!=r-o||0!=s-o)&&this.domElement==this.containerElement&&this.children_.length&&lime.Renderer.DOM.makeContainer.call(this),this.domElement!=this.containerElement&&!this.transitionsActiveSet_[lime.Transition.POSITION]&&!this.transitionsActiveSet_[lime.Transition.SCALE]&&!this.transitionsActiveSet_[lime.Transition.ROTATION]&&lime.style.setTransform(this.containerElement,(new lime.style.Transform).set3DAllowed(i).translate(r-o,s-o)),this.mask_!=this.activeMask_&&(this.activeMask_&&lime.Renderer.DOM.removeMask.call(this),this.mask_&&lime.Renderer.DOM.addMask.call(this)),i=(new lime.style.Transform).setPrecision(.1).set3DAllowed(i),this.mask_&&(lime.Renderer.DOM.calculateMaskPosition.call(this.mask_),i.setPrecision(.1).translate(-this.mask_.mX-r,-this.mask_.mY-s).rotate(this.mask_.mRot,"rad").translate(r,s).setPrecision(1)),r=-this.getRotation(),goog.isDef(this.transitionsActive_[lime.Transition.ROTATION])&&(r=-this.transitionsActive_[lime.Transition.ROTATION]),i.translate(e,t).scale(a.x,a.y).rotate(r),!this.transitionsActiveSet_[lime.Transition.POSITION]&&!this.transitionsActiveSet_[lime.Transition.SCALE]&&!this.transitionsActiveSet_[lime.Transition.ROTATION]&&lime.style.setTransform(this.domElement,i)},lime.Renderer.DOM.update=function(){if(this.domElement){if(lime.Renderer.DOM.drawSizePosition.call(this),!this.transitionsActiveSet_[lime.Transition.OPACITY]){var e=this.opacity_;goog.isDef(this.transitionsActive_[lime.Transition.OPACITY])&&(e=this.transitionsActive_[lime.Transition.OPACITY]),this.getDirty()&lime.Dirty.ALPHA&&goog.style.setOpacity(this.domElement,e)}this.getDirty()&lime.Dirty.VISIBILITY&&(this.domElement.style.display=this.hidden_?"none":"block"),this.maskTarget_||this.renderer.draw.call(this,this.domElement)}},lime.Renderer.DOM.calculateMaskPosition=function(){if(goog.isDef(this.targetNode)&&this.targetNode.inTree_){var e=this.targetNode,t=this.getFrame(),o=new goog.math.Coordinate(t.left,t.top),n=new goog.math.Coordinate(t.right,t.top),i=new goog.math.Coordinate(t.right,t.bottom),t=e.getParent(),o=this.localToNode(o,t),n=this.localToNode(n,t),i=this.localToNode(i,t),t=Math.atan2(o.y-n.y,n.x-o.x),r=n.x-o.x,s=o.y-n.y,a=i.x-n.x,g=i.y-n.y,n=Math.cos(t),i=Math.sin(t);
this.mWidth=Math.round(Math.sqrt(r*r+s*s)),this.mHeight=Math.round(Math.sqrt(a*a+g*g)),e.renderer.getType()==lime.Renderer.DOM&&(r=e.rootElement,goog.style.setSize(r,this.mWidth,this.mHeight),lime.style.setTransform(r,(new lime.style.Transform).setPrecision(.1).set3DAllowed(this.getCSS3DTransformsAllowed()).translate(o.x,o.y).rotate(-t,"rad"))),this.renderer.getType()==lime.Renderer.DOM&&(this.domElement.style.display="none"),this.mPos=e.parentToLocal(o.clone()),this.mSet=!0,this.mX=n*o.x-i*o.y,this.mY=n*o.y+i*o.x,this.mRot=t}},lime.Renderer.DOM.appendAt_=function(e,t,o){void 0==o||o>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[o])},lime.Renderer.DOM.makeContainer=function(){this.containerElement=goog.dom.createDom("div");for(var e,t=document.createDocumentFragment();e=this.domElement.firstChild;)this.domElement.removeChild(e),t.appendChild(e);this.containerElement.appendChild(t),this.domElement.appendChild(this.containerElement)},lime.Renderer.DOM.removeMask=function(){this.domElement!=this.rootElement&&(this.renderer.getType()==lime.Renderer.DOM&&(goog.dom.removeNode(this.domElement),goog.dom.replaceNode(this.domElement,this.rootElement),this.rootElement=this.domElement),this.activeMask_.isMask=0,this.activeMask_=null)},lime.Renderer.DOM.addMask=function(){this.renderer.getType()==lime.Renderer.DOM&&(this.rootElement=goog.dom.createDom("div"),this.rootElement.style.cssText="position:absolute;overflow:hidden;",lime.style.setTransformOrigin(this.rootElement,0,0),goog.dom.replaceNode(this.rootElement,this.domElement),this.rootElement.appendChild(this.domElement)),this.mask_.isMask=1,this.mask_.targetNode=this,this.activeMask_=this.mask_,this.mask_.setDirty(lime.Dirty.POSITION)},goog.string.StringBuffer=function(e){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t){if(this.buffer_+=e,null!=t)for(var o=1;arguments.length>o;o++)this.buffer_+=arguments[o];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.soy={},goog.soy.data={},goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:goog.DEBUG?{sanitizedContentJsStrChars:!0}:{},JS_STR_CHARS:goog.DEBUG?{sanitizedContentJsStrChars:!0}:{},URI:goog.DEBUG?{sanitizedContentUri:!0}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:goog.DEBUG?{sanitizedContentCss:!0}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:!0}:{}},goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content},goog.soy.REQUIRE_STRICT_AUTOESCAPE=!1,goog.soy.renderElement=function(e,t,o,n){e.innerHTML=goog.soy.verifyTemplateOutputSafe_(t(o||goog.soy.defaultTemplateData_,void 0,n))},goog.soy.renderAsFragment=function(e,t,o,n){return(n||goog.dom.getDomHelper()).htmlToDocumentFragment(goog.soy.verifyTemplateOutputSafe_(e(t||goog.soy.defaultTemplateData_,void 0,o)))},goog.soy.renderAsElement=function(e,t,o,n){return n=(n||goog.dom.getDomHelper()).createElement(goog.dom.TagName.DIV),n.innerHTML=goog.soy.verifyTemplateOutputSafe_(e(t||goog.soy.defaultTemplateData_,void 0,o)),1==n.childNodes.length&&(e=n.firstChild,e.nodeType==goog.dom.NodeType.ELEMENT)?e:n},goog.soy.verifyTemplateOutputSafe_=function(e){if(!goog.soy.REQUIRE_STRICT_AUTOESCAPE&&!goog.isObject(e))return String(e);if(e instanceof goog.soy.data.SanitizedContent){var t=goog.soy.data.SanitizedContentKind;if(e.contentKind===t.HTML||e.contentKind===t.ATTRIBUTES)return goog.asserts.assertString(e.content)}return goog.asserts.fail("Soy template output is unsafe for use as HTML: "+e),"zSoyz"},goog.soy.defaultTemplateData_={},goog.structs={},goog.structs.InversionMap=function(e,t,o){return e.length!=t.length?null:(this.storeInversion_(e,o),this.values=t,void 0)},goog.structs.InversionMap.prototype.storeInversion_=function(e,t){this.rangeArray=e;for(var o=1;e.length>o;o++)null==e[o]?e[o]=e[o-1]+1:t&&(e[o]+=e[o-1])},goog.structs.InversionMap.prototype.spliceInversion=function(e,t,o){e=new goog.structs.InversionMap(e,t,o),o=e.rangeArray[0];var n=goog.array.peek(e.rangeArray);t=this.getLeast(o),n=this.getLeast(n),o!=this.rangeArray[t]&&t++,o=n-t+1,goog.partial(goog.array.splice,this.rangeArray,t,o).apply(null,e.rangeArray),goog.partial(goog.array.splice,this.values,t,o).apply(null,e.values)},goog.structs.InversionMap.prototype.at=function(e){return e=this.getLeast(e),0>e?null:this.values[e]},goog.structs.InversionMap.prototype.getLeast=function(e){for(var t=this.rangeArray,o=0,n=t.length;n-o>8;){var i=n+o>>1;e>=t[i]?o=i:n=i}for(;n>o&&!(t[o]>e);++o);return o-1},goog.i18n={},goog.i18n.GraphemeBreak={},goog.i18n.GraphemeBreak.property={ANY:0,CONTROL:1,EXTEND:2,PREPEND:3,SPACING_MARK:4,L:5,V:6,T:7,LV:8,LVT:9,CR:10,LF:11},goog.i18n.GraphemeBreak.inversions_=null,goog.i18n.GraphemeBreak.applyLegacyBreakRules_=function(e,t){var o=goog.i18n.GraphemeBreak.property;return e==o.CR&&t==o.LF?!1:e==o.CONTROL||e==o.CR||e==o.LF||t==o.CONTROL||t==o.CR||t==o.LF?!0:(e!=o.L||t!=o.L&&t!=o.V&&t!=o.LV&&t!=o.LVT)&&(e!=o.LV&&e!=o.V||t!=o.V&&t!=o.T)&&(e!=o.LVT&&e!=o.T||t!=o.T)&&t!=o.EXTEND?!0:!1},goog.i18n.GraphemeBreak.getBreakProp_=function(e){if(e>=44032&&55203>=e){var t=goog.i18n.GraphemeBreak.property;return 16==e%28?t.LV:t.LVT}return goog.i18n.GraphemeBreak.inversions_||(goog.i18n.GraphemeBreak.inversions_=new goog.structs.InversionMap([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],!0)),goog.i18n.GraphemeBreak.inversions_.at(e)},goog.i18n.GraphemeBreak.hasGraphemeBreak=function(e,t,o){e=goog.i18n.GraphemeBreak.getBreakProp_(e),t=goog.i18n.GraphemeBreak.getBreakProp_(t);var n=goog.i18n.GraphemeBreak.property;return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(e,t)&&!(o&&(e==n.PREPEND||t==n.SPACING_MARK))},goog.format={},goog.format.fileSize=function(e,t){return goog.format.numBytesToString(e,t,!1)},goog.format.isConvertableScaledNumber=function(e){return goog.format.SCALED_NUMERIC_RE_.test(e)},goog.format.stringToNumericValue=function(e){return goog.string.endsWith(e,"B")?goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_):goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_SI_)},goog.format.stringToNumBytes=function(e){return goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_)},goog.format.numericValueToString=function(e,t){return goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_SI_,t)},goog.format.numBytesToString=function(e,t,o){var n="";return(!goog.isDef(o)||o)&&(n="B"),goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_BINARY_,t,n)},goog.format.stringToNumericValue_=function(e,t){var o=e.match(goog.format.SCALED_NUMERIC_RE_);return o?o[1]*t[o[2]]:0/0},goog.format.numericValueToString_=function(e,t,o,n){var i=goog.format.NUMERIC_SCALE_PREFIXES_,r=e,s="",a=1;0>e&&(e=-e);for(var g=0;i.length>g;g++){var l=i[g],a=t[l];if(e>=a||1>=a&&e>.1*a){s=l;break}}return s?n&&(s+=n):a=1,e=Math.pow(10,goog.isDef(o)?o:2),Math.round(r/a*e)/e+s},goog.format.SCALED_NUMERIC_RE_=/^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/,goog.format.NUMERIC_SCALE_PREFIXES_="P T G M K  m u n".split(" "),goog.format.NUMERIC_SCALES_SI_={"":1,n:1e-9,u:1e-6,m:.001,k:1e3,K:1e3,M:1e6,G:1e9,T:1e12,P:1e15},goog.format.NUMERIC_SCALES_BINARY_={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)},goog.format.FIRST_GRAPHEME_EXTEND_=768,goog.format.isTreatedAsBreakingSpace_=function(e){return goog.format.WbrToken_.SPACE>=e||e>=4096&&(e>=8192&&8198>=e||e>=8200&&8203>=e||5760==e||6158==e||8232==e||8233==e||8287==e||12288==e)},goog.format.isInvisibleFormattingCharacter_=function(e){return e>=8204&&8207>=e||e>=8234&&8238>=e},goog.format.insertWordBreaksGeneric_=function(e,t,o){if(o=o||10,o>e.length)return e;for(var n=[],i=0,r=0,s=0,a=0,g=0;e.length>g;g++){var l=a,a=e.charCodeAt(g),l=a>=goog.format.FIRST_GRAPHEME_EXTEND_&&!t(l,a,!0);i>=o&&!goog.format.isTreatedAsBreakingSpace_(a)&&!l&&(n.push(e.substring(s,g),goog.format.WORD_BREAK_HTML),s=g,i=0),r?a==goog.format.WbrToken_.GT&&r==goog.format.WbrToken_.LT?r=0:a==goog.format.WbrToken_.SEMI_COLON&&r==goog.format.WbrToken_.AMP&&(r=0,i++):a==goog.format.WbrToken_.LT||a==goog.format.WbrToken_.AMP?r=a:goog.format.isTreatedAsBreakingSpace_(a)?i=0:goog.format.isInvisibleFormattingCharacter_(a)||i++}return n.push(e.substr(s)),n.join("")},goog.format.insertWordBreaks=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.i18n.GraphemeBreak.hasGraphemeBreak,t)},goog.format.conservativelyHasGraphemeBreak_=function(e,t){return t>=1024&&1315>t},goog.format.insertWordBreaksBasic=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.format.conservativelyHasGraphemeBreak_,t)},goog.format.IS_IE8_OR_ABOVE_=goog.userAgent.IE&&goog.userAgent.isVersion(8),goog.format.WORD_BREAK_HTML=goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.format.IS_IE8_OR_ABOVE_?"&#8203;":"<wbr>",goog.format.WbrToken_={LT:60,GT:62,AMP:38,SEMI_COLON:59,SPACE:32},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-߿יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_," "):e},goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g,goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInHtml=function(e,t){return(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")},goog.i18n.bidi.guardBracketInText=function(e,t){var o=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/\d/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var o=0,n=0,i=!1,r=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),s=0;r.length>s;s++){var a=r[s];goog.i18n.bidi.startsWithRtl(a)?(o++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(a)?i=!0:goog.i18n.bidi.hasAnyLtr(a)?n++:goog.i18n.bidi.hasNumeralsRe_.test(a)&&(i=!0)}return 0==n?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.UNKNOWN:o/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))!=goog.i18n.bidi.Dir.UNKNOWN&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?"right":"left",e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.BidiFormatter=function(e,t){this.contextDir_=goog.i18n.bidi.toDir(e),this.alwaysSpan_=!!t},goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.contextDir_},goog.i18n.BidiFormatter.prototype.getAlwaysSpan=function(){return this.alwaysSpan_},goog.i18n.BidiFormatter.prototype.setContextDir=function(e){this.contextDir_=goog.i18n.bidi.toDir(e)},goog.i18n.BidiFormatter.prototype.setAlwaysSpan=function(e){this.alwaysSpan_=e},goog.i18n.BidiFormatter.prototype.estimateDirection=goog.i18n.bidi.estimateDirection,goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_=function(e,t){return 0>e*t},goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_=function(e,t,o,n){return n&&(this.areDirectionalitiesOpposite_(t,this.contextDir_)||this.contextDir_==goog.i18n.bidi.Dir.LTR&&goog.i18n.bidi.endsWithRtl(e,o)||this.contextDir_==goog.i18n.bidi.Dir.RTL&&goog.i18n.bidi.endsWithLtr(e,o))?this.contextDir_==goog.i18n.bidi.Dir.LTR?goog.i18n.bidi.Format.LRM:goog.i18n.bidi.Format.RLM:""},goog.i18n.BidiFormatter.prototype.dirAttrValue=function(e,t){return this.knownDirAttrValue(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttrValue=function(e){return e==goog.i18n.bidi.Dir.UNKNOWN&&(e=this.contextDir_),e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"},goog.i18n.BidiFormatter.prototype.dirAttr=function(e,t){return this.knownDirAttr(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e!=this.contextDir_?e==goog.i18n.bidi.Dir.RTL?'dir="rtl"':e==goog.i18n.bidi.Dir.LTR?'dir="ltr"':"":""},goog.i18n.BidiFormatter.prototype.spanWrap=function(e,t,o){var n=this.estimateDirection(e,t);return this.spanWrapWithKnownDir(n,e,t,o)},goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(e,t,o,n){n=n||void 0==n;var i=e!=goog.i18n.bidi.Dir.UNKNOWN&&e!=this.contextDir_;return o||(t=goog.string.htmlEscape(t)),o=[],this.alwaysSpan_||i?(o.push("<span"),i&&o.push(e==goog.i18n.bidi.Dir.RTL?' dir="rtl"':' dir="ltr"'),o.push(">"+t+"</span>")):o.push(t),o.push(this.dirResetIfNeeded_(t,e,!0,n)),o.join("")},goog.i18n.BidiFormatter.prototype.unicodeWrap=function(e,t,o){var n=this.estimateDirection(e,t);return this.unicodeWrapWithKnownDir(n,e,t,o)},goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,t,o,n){n=n||void 0==n;var i=[];return e!=goog.i18n.bidi.Dir.UNKNOWN&&e!=this.contextDir_?(i.push(e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.Format.RLE:goog.i18n.bidi.Format.LRE),i.push(t),i.push(goog.i18n.bidi.Format.PDF)):i.push(t),i.push(this.dirResetIfNeeded_(t,e,o,n)),i.join("")},goog.i18n.BidiFormatter.prototype.markAfter=function(e,t){return this.dirResetIfNeeded_(e,this.estimateDirection(e,t),t,!0)},goog.i18n.BidiFormatter.prototype.mark=function(){switch(this.contextDir_){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Format.LRM;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Format.RLM;default:return""}},goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT},goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT};var soy={esc:{}},soydata={VERY_UNSAFE:{}};soy.StringBuilder=goog.string.StringBuffer,soydata.SanitizedContentKind=goog.soy.data.SanitizedContentKind,soydata.SanitizedHtml=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtml,goog.soy.data.SanitizedContent),soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML,soydata.SanitizedJs=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedJs,goog.soy.data.SanitizedContent),soydata.SanitizedJs.prototype.contentKind=soydata.SanitizedContentKind.JS,soydata.SanitizedJsStrChars=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedJsStrChars,goog.soy.data.SanitizedContent),soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS,soydata.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedUri,goog.soy.data.SanitizedContent),soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI,soydata.SanitizedHtmlAttribute=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtmlAttribute,goog.soy.data.SanitizedContent),soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.ATTRIBUTES,soydata.SanitizedCss=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedCss,goog.soy.data.SanitizedContent),soydata.SanitizedCss.prototype.contentKind=soydata.SanitizedContentKind.CSS,soydata.UnsanitizedText=function(e){this.content=String(e)},goog.inherits(soydata.UnsanitizedText,goog.soy.data.SanitizedContent),soydata.UnsanitizedText.prototype.contentKind=soydata.SanitizedContentKind.TEXT,soydata.$$makeSanitizedContentFactory_=function(e){function t(){}return t.prototype=e.prototype,function(e){var o=new t;return o.content=String(e),o}},soydata.markUnsanitizedText=function(e){return new soydata.UnsanitizedText(e)},soydata.VERY_UNSAFE.ordainSanitizedHtml=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.ordainSanitizedJs=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedJs),soydata.VERY_UNSAFE.ordainSanitizedJsStrChars=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedJsStrChars),soydata.VERY_UNSAFE.ordainSanitizedUri=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedUri),soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.ordainSanitizedCss=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedCss),soy.renderElement=goog.soy.renderElement,soy.renderAsFragment=function(e,t,o,n){return goog.soy.renderAsFragment(e,t,n,new goog.dom.DomHelper(o))},soy.renderAsElement=function(e,t,o,n){return goog.soy.renderAsElement(e,t,n,new goog.dom.DomHelper(o))},soy.$$augmentMap=function(e,t){function o(){}o.prototype=e;var n,i=new o;for(n in t)i[n]=t[n];return i},soy.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+typeof e+'").');return e},soy.$$getMapKeys=function(e){var t,o=[];for(t in e)o.push(t);return o},soy.$$getDelTemplateId=function(e){return e},soy.$$DELEGATE_REGISTRY_PRIORITIES_={},soy.$$DELEGATE_REGISTRY_FUNCTIONS_={},soy.$$registerDelegateFn=function(e,t,o,n){var i="key_"+e+":"+t,r=soy.$$DELEGATE_REGISTRY_PRIORITIES_[i];if(void 0===r||o>r)soy.$$DELEGATE_REGISTRY_PRIORITIES_[i]=o,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[i]=n;else if(o==r)throw Error('Encountered two active delegates with the same priority ("'+e+":"+t+'").')},soy.$$getDelegateFn=function(e,t,o){var n=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"+t];if(!n&&""!=t&&(n=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"]),n)return n;if(o)return soy.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+e+":"+t+'" (and not allowemptydefault="true").')},soy.$$EMPTY_TEMPLATE_FN_=function(){return""},soy.$$escapeHtml=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),e.content):soy.esc.$$escapeHtmlHelper(e)},soy.$$cleanHtml=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),e.content):soy.$$stripHtmlTags(e,soy.esc.$$SAFE_TAG_WHITELIST_)},soy.$$escapeHtmlRcdata=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(e.content)):soy.esc.$$escapeHtmlHelper(e)},soy.$$HTML5_VOID_ELEMENTS_=/^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\b/,soy.$$stripHtmlTags=function(e,t){if(!t)return String(e).replace(soy.esc.$$HTML_TAG_REGEX_,"").replace(soy.esc.$$LT_REGEX_,"&lt;");var o=String(e).replace(/\[/g,"&#91;"),n=[],o=o.replace(soy.esc.$$HTML_TAG_REGEX_,function(e,o){if(o&&(o=o.toLowerCase(),t.hasOwnProperty(o)&&t[o])){var i="/"===e.charAt(1)?"</":"<",r=n.length;return n[r]=i+o+">","["+r+"]"}return""}),o=soy.esc.$$normalizeHtmlHelper(o),i=soy.$$balanceTags_(n),o=o.replace(/\[(\d+)\]/g,function(e,t){return n[t]});return o+i},soy.$$balanceTags_=function(e){for(var t=[],o=0,n=e.length;n>o;++o){var i=e[o];if("/"===i.charAt(1)){for(var r=t.length-1;r>=0&&t[r]!=i;)r--;0>r?e[o]="":(e[o]=t.slice(r).reverse().join(""),t.length=r)}else soy.$$HTML5_VOID_ELEMENTS_.test(i)||t.push("</"+i.substring(1))}return t.reverse().join("")},soy.$$escapeHtmlAttribute=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(e.content))):soy.esc.$$escapeHtmlHelper(e)},soy.$$escapeHtmlAttributeNospace=function(e){return e&&e.contentKind&&e.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(e.content))):soy.esc.$$escapeHtmlNospaceHelper(e)},soy.$$filterHtmlAttributes=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.ATTRIBUTES?(goog.asserts.assert(e.constructor===soydata.SanitizedHtmlAttribute),e.content.replace(/([^"'\s])$/,"$1 ")):soy.esc.$$filterHtmlAttributesHelper(e)},soy.$$filterHtmlElementName=function(e){return soy.esc.$$filterHtmlElementNameHelper(e)},soy.$$escapeJs=function(e){return soy.$$escapeJsString(e)},soy.$$escapeJsString=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.JS_STR_CHARS?(goog.asserts.assert(e.constructor===soydata.SanitizedJsStrChars),e.content):soy.esc.$$escapeJsStringHelper(e)},soy.$$escapeJsValue=function(e){if(null==e)return" null ";if(e.contentKind==goog.soy.data.SanitizedContentKind.JS)return goog.asserts.assert(e.constructor===soydata.SanitizedJs),e.content;switch(typeof e){case"boolean":case"number":return" "+e+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(e))+"'"}},soy.$$escapeJsRegex=function(e){return soy.esc.$$escapeJsRegexHelper(e)},soy.$$problematicUriMarks_=/['()]/g,soy.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},soy.$$escapeUri=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.URI?(goog.asserts.assert(e.constructor===soydata.SanitizedUri),soy.$$normalizeUri(e)):(e=soy.esc.$$escapeUriHelper(e),soy.$$problematicUriMarks_.lastIndex=0,soy.$$problematicUriMarks_.test(e)?e.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):e)},soy.$$normalizeUri=function(e){return soy.esc.$$normalizeUriHelper(e)},soy.$$filterNormalizeUri=function(e){return e&&e.contentKind==goog.soy.data.SanitizedContentKind.URI?(goog.asserts.assert(e.constructor===soydata.SanitizedUri),soy.$$normalizeUri(e)):soy.esc.$$filterNormalizeUriHelper(e)},soy.$$escapeCssString=function(e){return soy.esc.$$escapeCssStringHelper(e)},soy.$$filterCssValue=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.CSS?(goog.asserts.assert(e.constructor===soydata.SanitizedCss),e.content):null==e?"":soy.esc.$$filterCssValueHelper(e)},soy.$$filterNoAutoescape=function(e){return e&&e.contentKind===goog.soy.data.SanitizedContentKind.TEXT?(goog.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.content]),"zSoyz"):String(e)},soy.$$changeNewlineToBr=function(e){return goog.string.newLineToBr(String(e),!1)},soy.$$insertWordBreaks=function(e,t){return goog.format.insertWordBreaks(String(e),t)},soy.$$truncate=function(e,t,o){return e=String(e),t>=e.length?e:(o&&(t>3?t-=3:o=!1),soy.$$isHighSurrogate_(e.charAt(t-1))&&soy.$$isLowSurrogate_(e.charAt(t))&&(t-=1),e=e.substring(0,t),o&&(e+="..."),e)},soy.$$isHighSurrogate_=function(e){return e>=55296&&56319>=e},soy.$$isLowSurrogate_=function(e){return e>=56320&&57343>=e},soy.$$bidiFormatterCache_={},soy.$$getBidiFormatterInstance_=function(e){return soy.$$bidiFormatterCache_[e]||(soy.$$bidiFormatterCache_[e]=new goog.i18n.BidiFormatter(e))},soy.$$bidiTextDir=function(e,t){return e?goog.i18n.bidi.detectRtlDirectionality(e,t)?-1:1:0},soy.$$bidiDirAttr=function(e,t,o){return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute(soy.$$getBidiFormatterInstance_(e).dirAttr(t,o))},soy.$$bidiMarkAfter=function(e,t,o){return soy.$$getBidiFormatterInstance_(e).markAfter(t,o)},soy.$$bidiSpanWrap=function(e,t){return soy.$$getBidiFormatterInstance_(e).spanWrap(t+"",!0)},soy.$$bidiUnicodeWrap=function(e,t){return soy.$$getBidiFormatterInstance_(e).unicodeWrap(t+"",!0)},soy.esc.$$escapeUriHelper=function(e){return goog.string.urlEncode(String(e))},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\0":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","	":"&#9;","\n":"&#10;","":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\0":"\\x00","\b":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"},soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\0":"\\0 ","\b":"\\8 ","	":"\\9 ","\n":"\\a ","":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[e]},soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","	":"%09","\n":"%0A","":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[e]
},soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,soy.esc.$$escapeHtmlHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeHtmlNospaceHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlNospaceHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeJsStringHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeJsRegexHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeCssStringHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},soy.esc.$$filterCssValueHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterCssValue",[e]),"zSoyz")},soy.esc.$$normalizeUriHelper=function(e){return String(e).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},soy.esc.$$filterNormalizeUriHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(e)?e.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):(goog.asserts.fail("Bad value `%s` for |filterNormalizeUri",[e]),"#zSoyz")},soy.esc.$$filterHtmlAttributesHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterHtmlAttributes",[e]),"zSoyz")},soy.esc.$$filterHtmlElementNameHelper=function(e){return e=String(e),soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(e)?e:(goog.asserts.fail("Bad value `%s` for |filterHtmlElementName",[e]),"zSoyz")},soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,soy.esc.$$LT_REGEX_=/</g,soy.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},lime.css={},lime.css.css=function(){return".lime-director {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.lime-director div, .lime-director img, .lime-director canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.lime-scene {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.lime-fps {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.lime-layer {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.lime-cover {position: absolute; left: 0px; top: 0px;}.lime-button {cursor: pointer;}"},function(){var e=[[],[]],t=[[],[]];lime.setObjectDirty=function(o,n,i){goog.array.insert((i?t:e)[n||0],o)},lime.clearObjectDirty=function(){},lime.updateDirtyObjects=function(){for(var o,n=0;2>n;n++){for(;e[n].length;)o=e[n][0],o.update(n),o.dirty_=0,o==e[n][0]&&e[n].shift();e[n]=[]}t=[[],[]]}}(),lime.Dirty={POSITION:1,SCALE:2,CONTENT:4,FONT:8,ALPHA:16,VISIBILITY:32,LAYOUT:64,ROTATION:128,ALL:7},lime.AutoResize={NONE:0,LEFT:1,WIDTH:2,RIGHT:4,TOP:8,HEIGHT:16,BOTTOM:32,ALL:63},lime.Transition={POSITION:1,SCALE:2,SIZE:3,ROTATION:4,OPACITY:5},goog.style.installStyles(lime.css.css(null,null)),lime.Node=function(){goog.events.EventTarget.call(this),this.children_=[],this.parent_=null,this.transitionsAdd_={},this.transitionsActive_={},this.transitionsActiveSet_={},this.transitionsClear_={},this.allow3DCSSTransform_=!0,this.inTree_=!1,this.scene_=this.director_=null,this.eventHandlers_={},this.setScale(1),this.setPosition(0,0),this.setSize(0,0),this.quality_=1,this.setAnchorPoint(.5,.5),this.setRotation(0),this.setAutoResize(lime.AutoResize.NONE),this.opacity_=1,this.setMask(null),this.setRenderer(this.supportedRenderers[0].getType()),this.setDirty(lime.Dirty.LAYOUT)},goog.inherits(lime.Node,goog.events.EventTarget),lime.Node.prototype.supportedRenderers=[lime.Renderer.DOM,lime.Renderer.CANVAS],lime.Node.prototype.setRenderer=function(e){if(!this.renderer||this.renderer.getType()!=e){for(var t=-1,o=0;this.supportedRenderers.length>o;o++)if(this.supportedRenderers[o].getType()==e){t=o;break}if(-1==t)return this;for(this.renderer=this.supportedRenderers[o],this.setDirty(lime.Dirty.LAYOUT),o=0;t=this.children_[o];o++)t.setRenderer(e)}return this},lime.Node.prototype.needsDomElement=function(){return!(this.parent_&&this.parent_.renderer.getType()==lime.Renderer.CANVAS)},lime.Node.prototype.getDeepestDomElement=function(){return this.getDeepestParentWithDom().domElement},lime.Node.prototype.getDeepestParentWithDom=function(){return this.needsDomElement()?(this.updateDomElement(),this):this.parent_?this.parent_.getDeepestParentWithDom():null},lime.Node.prototype.getParentStack_=function(){if(!this.parent_||this instanceof lime.Scene)return[];var e=this.parent_.children_.indexOf(this),t=this.parent_.getParentStack_();return t.push(e),t},lime.Node.compareNode=function(e,t){if(e==t)return 0;for(var o=e.getParentStack_(),n=t.getParentStack_(),i=0;;){if(i>=o.length)return 1;if(i>=n.length)return-1;if(o[i]!=n[i])return o[i]>n[i]?-1:1;i++}},lime.Node.prototype.customEvent_=!1,lime.Node.prototype.getDirty=function(){return this.dirty_},lime.Node.prototype.setDirty=function(e,t,o){if(e&&!this.dirty_&&lime.setObjectDirty(this,t,o),this.dirty_|=e,e==lime.Dirty.LAYOUT)for(var n,i=0;n=this.children_[i];i++)n instanceof lime.Node&&n.setDirty(lime.Dirty.LAYOUT);return goog.isDef(this.dirty_)&&e||(this.dirty_=0,lime.clearObjectDirty(this,t,o)),e&&this.maskTarget_&&(this.mSet=!1,this.maskTarget_.setDirty(-1)),this},lime.Node.prototype.getScale=function(){return this.scale_},lime.Node.prototype.setScale=function(e){return this.scale_=1==arguments.length&&goog.isNumber(e)?new goog.math.Vec2(e,e):2==arguments.length?new goog.math.Vec2(arguments[0],arguments[1]):e,this.transitionsActive_[lime.Transition.SCALE]?this:this.setDirty(lime.Dirty.SCALE)},lime.Node.prototype.getPosition=function(){return this.position_},lime.Node.prototype.setPosition=function(e){return this.position_=2==arguments.length?new goog.math.Coordinate(arguments[0],arguments[1]):e,this.transitionsActive_[lime.Transition.POSITION]?this:this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getMask=function(){return this.mask_},lime.Node.prototype.setMask=function(e){return e==this.mask_?this:(this.mask_&&(this.mask_.releaseDependencies(),delete this.mask_.maskTarget_),(this.mask_=e)&&(this.mask_.setupDependencies(),this.mask_.maskTarget_=this),this.setDirty(lime.Dirty.CONTENT))},lime.Node.prototype.getAnchorPoint=function(){return this.anchorPoint_},lime.Node.prototype.setAnchorPoint=function(e){return this.anchorPoint_=2==arguments.length?new goog.math.Vec2(arguments[0],arguments[1]):e,this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getRotation=function(){return this.rotation_%=360},lime.Node.prototype.setRotation=function(e){return this.rotation_=e,this.transitionsActive_[lime.Transition.ROTATION]?this:this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getHidden=function(){return this.hidden_},lime.Node.prototype.setHidden=function(e){return this.hidden_=e,this.setDirty(lime.Dirty.VISIBILITY),this.autoHide_=0,this},lime.Node.prototype.getSize=function(){return this.size_},lime.Node.prototype.setSize=function(e){var t,o,n=this.size_;t=2==arguments.length?new goog.math.Size(arguments[0],arguments[1]):e;var i=this.getAnchorPoint();if(n&&this.children_.length)for(var r=0;this.children_.length>r;r++){var s=this.children_[r];if(s.getAutoResize){var a=s.getAutoResize();if(a!=lime.AutoResize.NONE){var g=s.getBoundingBox();o=n.width;var l=g.left+i.x*n.width,u=g.right-g.left,c=o-g.right-i.x*n.width;a&lime.AutoResize.LEFT&&(o-=l),a&lime.AutoResize.WIDTH&&(o-=u),a&lime.AutoResize.RIGHT&&(o-=c),o!=n.width&&(o=(t.width-o)/(n.width-o),a&lime.AutoResize.LEFT&&(l*=o),a&lime.AutoResize.WIDTH&&(u*=o)),o=n.height;var c=g.top+i.y*n.height,d=g.bottom-g.top,g=o-g.bottom-i.y*n.height;a&lime.AutoResize.TOP&&(o-=c),a&lime.AutoResize.HEIGHT&&(o-=d),a&lime.AutoResize.BOTTOM&&(o-=g),o!=n.height&&(o=(t.height-o)/(n.height-o),a&lime.AutoResize.TOP&&(c*=o),a&lime.AutoResize.HEIGHT&&(d*=o)),a=s.getAnchorPoint(),s.setSize(u,d),s.setPosition(l+a.x*u-i.x*t.width,c+a.y*d-i.y*t.height)}}}return this.size_=t,this.setDirty(lime.Dirty.SCALE)},lime.Node.prototype.getQuality=function(){return this.quality_},lime.Node.prototype.setQuality=function(e){return this.quality_!=e&&(this.quality_=e,this.setDirty(lime.Dirty.SCALE),this.calcRelativeQuality()),this},lime.Node.prototype.getRelativeQuality=function(){return this.relativeQuality_||this.calcRelativeQuality(),this.relativeQuality_},lime.Node.prototype.calcRelativeQuality=function(){var e=goog.isDef(this.relativeQuality_)?this.relativeQuality_:this.quality_;if(this.parent_&&this.parent_.relativeQuality_&&(e=this.quality_*this.parent_.relativeQuality_),e!=this.relativeQuality_){this.relativeQuality_=e;for(var t,e=0;t=this.children_[e];e++)t instanceof lime.Node&&t.calcRelativeQuality();this.setDirty(lime.Dirty.SCALE)}},lime.Node.prototype.getAutoResize=function(){return this.autoResize_},lime.Node.prototype.setAutoResize=function(e){return this.autoResize_=e,this.setDirty(lime.Dirty.ALL)},lime.Node.prototype.setAllow3DCSSTransforms=function(e){return this.allow3DCSSTransform_=e,this},lime.Node.prototype.getCSS3DTransformsAllowed=function(){return this.allow3DCSSTransform_},lime.Node.prototype.screenToLocal=function(e){return this.inTree_?(e=this.getParent().screenToLocal(e),this.parentToLocal(e)):e},lime.Node.prototype.parentToLocal=function(e){if(!this.getParent())return null;if(e.x-=this.position_.x,e.y-=this.position_.y,e.x/=this.scale_.x,e.y/=this.scale_.y,0!=this.rotation_){var t=e.clone(),o=this.rotation_*Math.PI/180,n=Math.cos(o),o=Math.sin(o);e.x=n*t.x-o*t.y,e.y=n*t.y+o*t.x}return e},lime.Node.prototype.localToScreen=function(e){return this.inTree_?this.getParent().localToScreen(this.localToParent(e)):e},lime.Node.prototype.localToParent=function(e){if(!this.getParent())return e;var t=e.clone();if(0!=this.rotation_){var o=-this.rotation_*Math.PI/180,n=Math.cos(o),o=Math.sin(o);t.x=n*e.x-o*e.y,t.y=n*e.y+o*e.x}return t.x*=this.scale_.x,t.y*=this.scale_.y,t.x+=this.position_.x,t.y+=this.position_.y,t},lime.Node.prototype.localToNode=function(e,t){return this.inTree_?t.screenToLocal(this.localToScreen(e)):e},lime.Node.prototype.getOpacity=function(){return this.opacity_},lime.Node.prototype.setOpacity=function(e){return this.opacity_=e,e=this.getHidden(),0!=this.opacity_||e?0!=this.opacity_&&e&&this.autoHide_&&this.setHidden(!1):(this.setHidden(!0),this.autoHide_=1),goog.isDef(this.transitionsActive_[lime.Transition.OPACITY])?this:(this.setDirty(lime.Dirty.ALPHA),this)},lime.Node.prototype.createDomElement=function(){var e=this.renderer.getType()==lime.Renderer.CANVAS?"canvas":"div",t=function(){this.domElement=this.rootElement=this.containerElement=goog.dom.createDom(e),this.domClassName&&goog.dom.classes.add(this.domElement,this.domClassName),this.dirty_|=-1};if(this.domElement){if(this.domElement.tagName.toLowerCase()!=e){var o=this.rootElement;t.call(this),o.parentNode&&o.parentNode.replaceChild(this.rootElement,o)}}else t.call(this)},lime.Node.prototype.updateDomElement=function(){this.needsDomElement()?this.createDomElement():this.removeDomElement()},lime.Node.prototype.removeDomElement=function(){this.rootElement&&(goog.dom.removeNode(this.rootElement),delete this.domElement,delete this.rootElement,delete this.containerElement)},lime.Node.prototype.updateLayout=function(){if(this.dirty_&=~lime.Dirty.LAYOUT,this.updateDomElement(),this.parent_&&this.parent_.dirty_&lime.Dirty.LAYOUT)this.parent_.updateLayout();else if(this.needsDomElement()){for(var e,t=0;e=this.children_[t];t++)e instanceof lime.Node&&e.updateLayout();this.renderer.updateLayout.call(this)}},lime.Node.prototype.update=function(e){var t,o;e=e||0,goog.getUid(this),this.dirty_&lime.Dirty.LAYOUT&&this.updateLayout();var n=this.renderer.getType()==lime.Renderer.DOM||e;if(n){for(var i in this.transitionsClear_)delete this.transitionsActive_[i],delete this.transitionsActiveSet_[i],t=lime.Node.getPropertyForTransition(parseInt(i,10)),lime.style.clearTransition(this.domElement,t),this.domElement!=this.containerElement&&lime.style.clearTransition(this.continerElement,t);t=0;for(i in this.transitionsAdd_)o=this.transitionsAdd_[i],o[3]||(o[3]=1,i==lime.Transition.POSITION&&this.positionDrawn_!=this.position_&&(this.setDirty(lime.Dirty.POSITION,0,!0),t=1),i==lime.Transition.SCALE&&this.scaleDrawn_!=this.scale_&&(this.setDirty(lime.Dirty.SCALE,0,!0),t=1),i==lime.Transition.OPACITY&&this.opacityDrawn_!=this.opacity_&&(this.setDirty(lime.Dirty.ALPHA,0,!0),t=1),i==lime.Transition.ROTATION&&this.rotationDrawn_!=this.rotation_&&(this.setDirty(lime.Dirty.ROTATION,0,!0),t=1));if(!t)for(i in this.transitionsAdd_)o=this.transitionsAdd_[i],t=lime.Node.getPropertyForTransition(parseInt(i,10)),(this.renderer.getType()==lime.Renderer.DOM||"opacity"!=t)&&(this.transitionsActive_[i]=o[0],lime.style.setTransition(this.domElement,t,o[1],o[2]),this.domElement!=this.containerElement&&t==lime.style.transformProperty&&lime.style.setTransition(this.containerElement,t,o[1],o[2])),delete this.transitionsAdd_[i];this.positionDrawn_=this.position_,this.scaleDrawn_=this.scale_,this.opacityDrawn_=this.opacity_,this.rotationDrawn_=this.rotation_,this.transitionsClear_={}}if(e?this.renderer.drawCanvas.call(this):(this.renderer.getType()==lime.Renderer.CANVAS&&(o=this.getDeepestParentWithDom(),o.redraw_=1,o==this&&this.dirty_==lime.Dirty.POSITION&&!this.mask_&&(o.redraw_=0),lime.setObjectDirty(this.getDeepestParentWithDom(),1)),this.renderer.update.call(this)),n)for(i in this.transitionsActive_)this.transitionsActive_[i]&&(this.transitionsActiveSet_[i]=!0);if(this.dependencies_)for(i=0;this.dependencies_.length>i;i++)this.dependencies_[i].setDirty(lime.Dirty.ALL);this.setDirty(0,e)},lime.Node.getPropertyForTransition=function(e){return e==lime.Transition.OPACITY?"opacity":lime.style.transformProperty},lime.Node.prototype.getParent=function(){return this.parent_?this.parent_:null},lime.Node.prototype.appendChild=function(e,t){return e instanceof lime.Node&&e.getParent()?e.getParent().removeChild(e):e.parentNode&&goog.dom.removeNode(e),e.parent_=this,void 0==t?this.children_.push(e):goog.array.insertAt(this.children_,e,t),this.renderer.getType()!=lime.Renderer.DOM&&e.setRenderer(this.renderer.getType()),e instanceof lime.Node&&(e.calcRelativeQuality(),this.inTree_&&e.wasAddedToTree()),this.setDirty(lime.Dirty.LAYOUT)},lime.Node.prototype.getNumberOfChildren=function(){return this.children_.length},lime.Node.prototype.getChildAt=function(e){return e>=0&&this.getNumberOfChildren()>e?this.children_[e]:null},lime.Node.prototype.getChildIndex=function(e){return this.children_.indexOf(e)},lime.Node.prototype.removeChild=function(e){return this.removeChildAt(this.getChildIndex(e))},lime.Node.prototype.removeChildAt=function(e){if(e>=0&&this.getNumberOfChildren()>e){var t=this.getChildAt(e);return t.maskTarget_&&t.maskTarget_.setMask(null),t instanceof lime.Node?(this.inTree_&&t.wasRemovedFromTree(),t.removeDomElement(),t.parent_=null):goog.dom.removeNode(t),this.children_.splice(e,1),this.setDirty(lime.Dirty.LAYOUT)}return this},lime.Node.prototype.removeAllChildren=function(){for(;this.getNumberOfChildren();)this.removeChildAt(0);return this},lime.Node.prototype.setChildIndex=function(e,t){var o=this.getChildIndex(e);return-1!=o&&o!=t?(this.children_.splice(o,1),goog.array.insertAt(this.children_,e,t),this.getDirector()&&this.getDirector().eventDispatcher.updateDispatchOrder(e),this.setDirty(lime.Dirty.LAYOUT)):this},lime.Node.prototype.addEventListener=function(e){lime.userAgent.SUPPORTS_TOUCH&&"mouse"==e.substring(0,5)||(goog.isDef(this.eventHandlers_[e])||(this.eventHandlers_[e]=[0,0]),this.inTree_&&0==this.eventHandlers_[e][0]&&(this.eventHandlers_[e][0]=1,this.getDirector().eventDispatcher.register(this,e)),this.eventHandlers_[e][1]++)},lime.Node.prototype.removeEventListener=function(e){lime.userAgent.SUPPORTS_TOUCH&&"mouse"==e.substring(0,5)||(this.inTree_&&1==this.eventHandlers_[e][1]&&(this.eventHandlers_[e][0]=0,this.getDirector().eventDispatcher.release(this,e)),this.eventHandlers_[e][1]--,this.eventHandlers_[e][1]||delete this.eventHandlers_[e])},lime.Node.prototype.getDirector=function(){return this.inTree_?this.director_:null},lime.Node.prototype.getScene=function(){return this.inTree_?this.scene_:null},lime.Node.prototype.wasRemovedFromTree=function(){var e;this.dependencySet_||this.removeDependency(this.getParent());for(var t=0;e=this.children_[t];t++)e instanceof lime.Node&&e.wasRemovedFromTree();for(var o in this.eventHandlers_)this.eventHandlers_[o][0]=0,!this.getDirector(),this.getDirector().eventDispatcher.release(this,o);this.getDirector().eventDispatcher.updateDispatchOrder(this),this.inTree_=!1,this.scene_=this.director_=null},lime.Node.prototype.wasAddedToTree=function(){this.inTree_=!0,this.director_=this.parent_.getDirector(),this.scene_=this.parent_.getScene();for(var e,t=0;e=this.children_[t];t++)e instanceof lime.Node&&e.wasAddedToTree();for(var o in this.eventHandlers_)this.eventHandlers_[o][0]=1,this.getDirector().eventDispatcher.register(this,o);this.dependencySet_&&this.setupDependencies(),this.getDirector().eventDispatcher.updateDispatchOrder(this)},lime.Node.prototype.setupDependencies=function(){this.dependencySet_=!0,this.inTree_&&this.addDependency(this.getParent())},lime.Node.prototype.addDependency=function(e){e.dependencies_||(e.dependencies_=[]),goog.array.insert(e.dependencies_,this),!e&&!(e.getParent()instanceof lime.Scene)&&this.addDependency(e.getParent())},lime.Node.prototype.removeDependency=function(e){e&&e.dependencies_&&(goog.array.remove(e.dependencies_,this),this.removeDependency(e.getParent()))},lime.Node.prototype.releaseDependencies=function(){delete this.dependencySet_,this.removeDependency(this.getParent())},lime.Node.prototype.getFrame=function(){var e=this.getSize(),t=this.getAnchorPoint();return new goog.math.Box(-e.height*t.y,e.width*(1-t.x),e.height*(1-t.y),-e.width*t.x)},lime.Node.prototype.getBoundingBox=function(e){var t=e||this.getFrame();e=new goog.math.Coordinate(t.left,t.top);var o=new goog.math.Coordinate(t.right,t.top),n=new goog.math.Coordinate(t.left,t.bottom),t=new goog.math.Coordinate(t.right,t.bottom);return e=this.localToParent(e),o=this.localToParent(o),n=this.localToParent(n),t=this.localToParent(t),new goog.math.Box(Math.floor(Math.min(e.y,o.y,n.y,t.y)),Math.ceil(Math.max(e.x,o.x,n.x,t.x)),Math.ceil(Math.max(e.y,o.y,n.y,t.y)),Math.floor(Math.min(e.x,o.x,n.x,t.x)))},lime.Node.prototype.measureContents=function(){var e=this.getFrame();e.left==e.right&&this.children_.length&&(e=this.children_[0].getBoundingBox(this.children_[0].measureContents()));for(var t,o=0;t=this.children_[o];o++)1!=t.isMask&&e.expandToInclude(t.getBoundingBox(t.measureContents()));return e},lime.Node.prototype.addTransition=function(e,t,o,n){this.transitionsAdd_[e]=[t,o,n,0]},lime.Node.prototype.clearTransition=function(e){this.transitionsClear_[e]=1},lime.Node.prototype.hitTest=function(e){var t=this.screenToLocal(e.screenPosition);return this.getFrame().contains(t)?(e.position=t,!0):!1},lime.Node.prototype.runAction=function(e){e.addTarget(this),e.play()},lime.Layer=function(){lime.Node.call(this),this.domClassName="lime-layer"},goog.inherits(lime.Layer,lime.Node),lime.Layer.prototype.hitTest=function(e){for(var t,o=0;t=this.children_[o];o++)if(t.hitTest(e))return e.position=this.screenToLocal(e.screenPosition),!0;return!1};var vocabulary_cpanel={Question:function(e,t,o){this.targetIndex=goog.math.randomInt(e.length),stringTitle=String(e[this.targetIndex].translation),this.targetWordTitle=(new lime.Label).setText(stringTitle).setPosition(t.width/2,t.height/4).setFontSize(70).setSize(t.width-20,t.height/5).setFontColor(o.question)}};goog.fx={},goog.fx.easing={},goog.fx.easing.easeIn=function(e){return e*e*e},goog.fx.easing.easeOut=function(e){return 1-Math.pow(1-e,3)},goog.fx.easing.inAndOut=function(e){return 3*e*e-2*e*e*e},lime.scheduleManager=new function(){this.taskStack_=[],this.active_=!1,this.intervalID_=0,this.displayRate_=1e3/30,this.lastRunTime_=0},lime.scheduleManager.Task=function(e,t){this.delta=this.maxdelta=e,this.limit=goog.isDef(t)?t:-1,this.functionStack_=[]},lime.scheduleManager.Task.prototype.step_=function(e){if(this.functionStack_.length)if(this.delta>e)this.delta-=e;else{var t=this.maxdelta+e-this.delta;this.delta=this.maxdelta-(e-this.delta),0>this.delta&&(this.delta=0);var o;for(e=this.functionStack_.length;--e>=0;)(o=this.functionStack_[e])&&o[0]&&goog.isFunction(o[1])&&o[1].call(o[2],t);-1!=this.limit&&(this.limit--,0==this.limit&&lime.scheduleManager.unschedule(o[1],o[2]))}},lime.scheduleManager.taskStack_.push(new lime.scheduleManager.Task(0)),function(){for(var e=["webkit","moz"],t=0;e.length>t&&!goog.global.requestAnimationFrame;++t)goog.global.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],goog.global.cancelAnimationFrame=goog.global[e[t]+"CancelAnimationFrame"]||goog.global[e[t]+"CancelRequestAnimationFrame"]}(),lime.scheduleManager.USE_ANIMATION_FRAME=!!goog.global.requestAnimationFrame,lime.scheduleManager.getDisplayRate=function(){return this.displayRate_},lime.scheduleManager.setDisplayRate=function(e){this.displayRate_=e,this.active_&&(lime.scheduleManager.disable_(),lime.scheduleManager.activate_())},lime.scheduleManager.schedule=function(e,t,o){o=goog.isDef(o)?o:this.taskStack_[0],goog.array.insert(o.functionStack_,[1,e,t]),goog.array.insert(this.taskStack_,o),this.active_||lime.scheduleManager.activate_()},lime.scheduleManager.unschedule=function(e,t){for(var o=this.taskStack_.length;--o>=0;){for(var n,i=this.taskStack_[o],r=i.functionStack_,s=r.length;--s>=0;)n=r[s],n[1]==e&&n[2]==t&&goog.array.remove(r,n);0==r.length&&0!=o&&goog.array.remove(this.taskStack_,i)}1==this.taskStack_.length&&0==this.taskStack_[0].functionStack_.length&&lime.scheduleManager.disable_()},lime.scheduleManager.activate_=function(){this.active_||(this.lastRunTime_=goog.now(),lime.scheduleManager.USE_ANIMATION_FRAME&&goog.global.requestAnimationFrame?goog.global.mozRequestAnimationFrame&&11>goog.userAgent.VERSION?(goog.global.mozRequestAnimationFrame(),this.beforePaintHandlerBinded_=goog.bind(lime.scheduleManager.beforePaintHandler_,this),goog.global.addEventListener("MozBeforePaint",this.beforePaintHandlerBinded_,!1)):(this.animationFrameHandlerBinded_=goog.bind(lime.scheduleManager.animationFrameHandler_,this),goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_)):this.intervalID_=setInterval(goog.bind(lime.scheduleManager.stepTimer_,this),lime.scheduleManager.getDisplayRate()),this.active_=!0)},lime.scheduleManager.disable_=function(){this.active_&&(lime.scheduleManager.USE_ANIMATION_FRAME&&goog.global.requestAnimationFrame?goog.global.mozRequestAnimationFrame&&11>goog.userAgent.VERSION?goog.global.removeEventListener("MozBeforePaint",this.beforePaintHandlerBinded_,!1):goog.global.cancelAnimationFrame(this.animationFrameHandlerBinded_):clearInterval(this.intervalID_),this.active_=!1)},lime.scheduleManager.animationFrameHandler_=function(e){var t,o=goog.global.performance;o&&(t=o.now||o.webkitNow)?e=o.timing.navigationStart+t.call(o):e||(e=goog.now()),o=e-this.lastRunTime_,0>o&&(o=1),lime.scheduleManager.dispatch_(o),this.lastRunTime_=e,goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_)},lime.scheduleManager.beforePaintHandler_=function(e){lime.scheduleManager.dispatch_(e.timeStamp-this.lastRunTime_),this.lastRunTime_=e.timeStamp,goog.global.mozRequestAnimationFrame()},lime.scheduleManager.stepTimer_=function(){var e=goog.now(),t=e-this.lastRunTime_;0>t&&(t=1),lime.scheduleManager.dispatch_(t),this.lastRunTime_=e},lime.scheduleManager.dispatch_=function(e){for(var t=this.taskStack_.slice(),o=t.length;--o>=0;)t[o].step_(e);1==lime.transformSet_&&/Firefox\/18./.test(goog.userAgent.getUserAgentString())&&!lime.FF4_USE_HW_ACCELERATION&&(lime.scheduleManager.odd_?(document.body.style.MozTransform="",lime.scheduleManager.odd_=0):(document.body.style.MozTransform="scale(1,1)",lime.scheduleManager.odd_=1),lime.transformSet_=0)},lime.scheduleManager.changeDirectorActivity=function(e,t){for(var o,n,i,r,s=this.taskStack_.length;--s>=0;)for(o=this.taskStack_[s],r=o.functionStack_.length;--r>=0;)i=o.functionStack_[r],n=i[2],goog.isFunction(n.getDirector)&&(n=n.getDirector(),n==e&&(i[0]=t))},lime.scheduleManager.callAfter=function(e,t,o){lime.scheduleManager.scheduleWithDelay(e,t,o,1)},lime.scheduleManager.scheduleWithDelay=function(e,t,o,n){o=new lime.scheduleManager.Task(o,n),lime.scheduleManager.schedule(e,t,o)},lime.animation={},lime.animation.Animation=function(){goog.events.EventTarget.call(this),this.targets=[],this.initTargets_=[],this.targetProp_={},this.isPlaying_=!1,this.duration_=1,this.ease=lime.animation.Easing.EASEINOUT,this.status_=0},goog.inherits(lime.animation.Animation,goog.events.EventTarget),lime.animation.Animation.prototype.scope="",lime.animation.Event={START:"start",STOP:"stop"},lime.animation.Animation.prototype.getDuration=function(){return this.duration_},lime.animation.Animation.prototype.setDuration=function(e){return this.duration_=e,this},lime.animation.Animation.prototype.setEasing=function(e){return this.ease=e,this},lime.animation.Animation.prototype.getEasing=function(){return this.ease},lime.animation.Animation.prototype.addTarget=function(e){return goog.array.insert(this.targets,e),this},lime.animation.Animation.prototype.removeTarget=function(e){return goog.array.remove(this.targets,e),goog.array.remove(this.initTargets_,e),this},lime.animation.Animation.prototype.play=function(){this.playTime_=0,this.firstFrame_=this.status_=1,lime.scheduleManager.schedule(this.step_,this),this.dispatchEvent({type:lime.animation.Event.START})},lime.animation.Animation.prototype.stop=function(){if(0!=this.status_){var e=this.initTargets_;if(this.useTransitions()&&this.clearTransition)for(var t=e.length;--t>=0;)this.clearTransition(e[t]);this.initTargets_=[],this.targetProp_={},this.status_=0,lime.scheduleManager.unschedule(this.step_,this),this.dispatchEvent({type:lime.animation.Event.STOP})}},lime.animation.Animation.prototype.makeTargetProp=function(){return{}},lime.animation.Animation.prototype.getTargetProp=function(e){var t=goog.getUid(e);return goog.isDef(this.targetProp_[t])||(this.initTarget(e),this.targetProp_[t]=this.makeTargetProp(e)),this.targetProp_[t]},lime.animation.Animation.prototype.initTarget=function(e){lime.animation.actionManager.register(this,e),this.status_=1,goog.array.insert(this.initTargets_,e),this.speed_&&!this.speedCalcDone_&&this.calcDurationFromSpeed_&&this.calcDurationFromSpeed_()},lime.animation.Animation.prototype.getDirector=function(){return this.targets[0]?this.targets[0].getDirector():null},lime.animation.Animation.prototype.step_=function(e){this.speed_&&!this.speedCalcDone_&&this.calcDurationFromSpeed_&&this.calcDurationFromSpeed_(),this.firstFrame_&&(delete this.firstFrame_,e=1),this.playTime_+=e,this.dt_=e,e=this.playTime_/(1e3*this.duration_),(isNaN(e)||e>=1)&&(e=1),e=this.updateAll(e,this.targets),1==e&&this.stop()},lime.animation.Animation.prototype.updateAll=function(e,t){e=this.getEasing()[0](e),isNaN(e)&&(e=1);for(var o=t.length;--o>=0;)this.update(e,t[o]);return e},lime.animation.Animation.prototype.useTransitions=function(){return this.duration_>0&&lime.style.isTransitionsSupported&&this.optimizations_&&lime.userAgent.IOS},lime.animation.Animation.prototype.enableOptimizations=function(e){return this.optimizations_=goog.isDef(e)?e:!0,this},lime.animation.Animation.prototype.cloneParam=function(e){return this.setDuration(e.getDuration()).enableOptimizations(e.optimizations_)},lime.animation.Animation.prototype.reverse=function(){throw"Reverseform not supported for this animation"},lime.animation.actionManager=new function(){this.actions={}},lime.animation.actionManager.register=function(e,t){if(e.scope.length){var o=goog.getUid(t);goog.isDef(this.actions[o])||(this.actions[o]={}),goog.isDef(this.actions[o][e.scope])&&this.actions[o][e.scope].stop(),this.actions[o][e.scope]=e}},lime.animation.actionManager.stopAll=function(e){if(e=goog.getUid(e),goog.isDef(this.actions[e]))for(var t in this.actions[e])this.actions[e][t].stop(),delete this.actions[e][t]},function(){function e(e,i){var r,s,a,g;for(a=e,s=0;8>s;s++){if(g=((t*a+o)*a+n)*a-e,i>(g>=0?g:0-g))return a;if(r=(3*t*a+2*o)*a+n,1e-6>(r>=0?r:0-r))break;a-=g/r}if(r=0,s=1,a=e,r>a)return r;if(a>s)return s;for(;s>r&&(g=((t*a+o)*a+n)*a,!(i>(g-e>=0?g-e:0-(g-e))));)e>g?r=a:s=a,a=.5*(s-r)+r;return a}var t=0,o=0,n=0,i=0,r=0,s=0;lime.animation.getEasingFunction=function(a,g,l,u){return[function(c){return n=3*a,o=3*(l-a)-n,t=1-n-o,s=3*g,r=3*(u-g)-s,i=1-s-r,c=e(c,5e-5),((i*c+r)*c+s)*c},a,g,l,u]}}(),lime.animation.Easing={EASE:lime.animation.getEasingFunction(.25,.1,.25,1),LINEAR:lime.animation.getEasingFunction(0,0,1,1),EASEIN:lime.animation.getEasingFunction(.42,0,1,1),EASEOUT:lime.animation.getEasingFunction(0,0,.58,1),EASEINOUT:lime.animation.getEasingFunction(.42,0,.58,1)},goog.color={},goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.color.parse=function(e){var t={};
e=String(e);var o=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(o))return t.hex=goog.color.normalizeHex(o),t.type="hex",t;if(o=goog.color.isValidRgbColor_(e),o.length)return t.hex=goog.color.rgbArrayToHex(o),t.type="rgb",t;if(goog.color.names&&(o=goog.color.names[e.toLowerCase()]))return t.hex=o,t.type="named",t;throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var t=goog.color.prependHashIfNecessaryHelper(e);return!!(goog.color.isValidHexColor_(t)||goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()])},goog.color.parseRgb=function(e){var t=goog.color.isValidRgbColor_(e);if(!t.length)throw Error(e+" is not a valid RGB color");return t},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){e=goog.color.normalizeHex(e);var t=parseInt(e.substr(1,2),16),o=parseInt(e.substr(3,2),16);return e=parseInt(e.substr(5,2),16),[t,o,e]},goog.color.rgbToHex=function(e,t,o){if(e=Number(e),t=Number(t),o=Number(o),isNaN(e)||0>e||e>255||isNaN(t)||0>t||t>255||isNaN(o)||0>o||o>255)throw Error('"('+e+","+t+","+o+'") is not a valid RGB color');return e=goog.color.prependZeroIfNecessaryHelper(e.toString(16)),t=goog.color.prependZeroIfNecessaryHelper(t.toString(16)),o=goog.color.prependZeroIfNecessaryHelper(o.toString(16)),"#"+e+t+o},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,t,o){e/=255,t/=255,o/=255;var n=Math.max(e,t,o),i=Math.min(e,t,o),r=0,s=0,a=.5*(n+i);return n!=i&&(n==e?r=60*(t-o)/(n-i):n==t?r=60*(o-e)/(n-i)+120:n==o&&(r=60*(e-t)/(n-i)+240),s=a>0&&.5>=a?(n-i)/(2*a):(n-i)/(2-2*a)),[Math.round(r+360)%360,s,a]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,t,o){return 0>o?o+=1:o>1&&(o-=1),1>6*o?e+6*(t-e)*o:1>2*o?t:2>3*o?e+6*(t-e)*(2/3-o):e},goog.color.hslToRgb=function(e,t,o){var n=0,i=0,r=0;if(e/=360,0==t)n=i=r=255*o;else var s=r=0,s=.5>o?o*(1+t):o+t-t*o,r=2*o-s,n=255*goog.color.hueToRgb_(r,s,e+1/3),i=255*goog.color.hueToRgb_(r,s,e),r=255*goog.color.hueToRgb_(r,s,e-1/3);return[Math.round(n),Math.round(i),Math.round(r)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){var t=e.match(goog.color.rgbColorRe_);if(t){e=Number(t[1]);var o=Number(t[2]),t=Number(t[3]);if(e>=0&&255>=e&&o>=0&&255>=o&&t>=0&&255>=t)return[e,o,t]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,t,o){var n=0,i=0,r=0;if(0==t)r=i=n=o;else{var s=Math.floor(e/60),a=e/60-s;e=o*(1-t);var g=o*(1-t*a);switch(t=o*(1-t*(1-a)),s){case 1:n=g,i=o,r=e;break;case 2:n=e,i=o,r=t;break;case 3:n=e,i=g,r=o;break;case 4:n=t,i=e,r=o;break;case 5:n=o,i=e,r=g;break;case 6:case 0:n=o,i=t,r=e}}return[Math.floor(n),Math.floor(i),Math.floor(r)]},goog.color.rgbToHsv=function(e,t,o){var n=Math.max(Math.max(e,t),o),i=Math.min(Math.min(e,t),o);if(i==n)i=e=0;else{var r=n-i,i=r/n;e=60*(e==n?(t-o)/r:t==n?2+(o-e)/r:4+(e-t)/r),0>e&&(e+=360),e>360&&(e-=360)}return[e,i,n]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){return e=goog.color.hexToRgb(e),goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hslToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,t,o))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,t,o))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,t){var o,n;return o=.5>=e[2]?e[1]*e[2]:e[1]*(1-e[2]),n=.5>=t[2]?t[1]*t[2]:t[1]*(1-t[2]),(e[2]-t[2])*(e[2]-t[2])+o*o+n*n-2*o*n*Math.cos(2*(e[0]/360-t[0]/360)*Math.PI)},goog.color.blend=function(e,t,o){return o=goog.math.clamp(o,0,1),[Math.round(o*e[0]+(1-o)*t[0]),Math.round(o*e[1]+(1-o)*t[1]),Math.round(o*e[2]+(1-o)*t[2])]},goog.color.darken=function(e,t){return goog.color.blend([0,0,0],e,t)},goog.color.lighten=function(e,t){return goog.color.blend([255,255,255],e,t)},goog.color.highContrast=function(e,t){for(var o=[],n=0;t.length>n;n++)o.push({color:t[n],diff:goog.color.yiqBrightnessDiff_(t[n],e)+goog.color.colorDiff_(t[n],e)});return o.sort(function(e,t){return t.diff-e.diff}),o[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,t){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(t))},goog.color.colorDiff_=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2])},lime.fill={},lime.fill.Fill=function(){goog.events.EventTarget.call(this)},goog.inherits(lime.fill.Fill,goog.events.EventTarget),lime.fill.Fill.prototype.initForSprite=goog.nullFunction,lime.fill.parse=function(e){return e[0]instanceof lime.fill.Fill?e[0]:(goog.isArray(e)||(e=goog.array.toArray(arguments)),e.length>2?new lime.fill.Color(e):!goog.isString(e[0])||"rgb("!=e[0].substring(0,4)&&"rgba("!=e[0].substring(0,5)&&"#"!=e[0].substring(0,1)?new lime.fill.Image(e[0]):new lime.fill.Color(e[0]))},lime.fill.Fill.prototype.setDOMStyle=goog.nullFunction,lime.fill.Fill.prototype.setCanvasStyle=goog.nullFunction,goog.color.alpha={},goog.color.alpha.parse=function(e){var t={};e=String(e);var o=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.alpha.isValidAlphaHexColor_(o))return t.hex=goog.color.alpha.normalizeAlphaHex_(o),t.type="hex",t;if(o=goog.color.alpha.isValidRgbaColor_(e),o.length)return t.hex=goog.color.alpha.rgbaArrayToHex(o),t.type="rgba",t;if(o=goog.color.alpha.isValidHslaColor_(e),o.length)return t.hex=goog.color.alpha.hslaArrayToHex(o),t.type="hsla",t;throw Error(e+" is not a valid color string")},goog.color.alpha.hexToRgbaStyle=function(e){return goog.color.alpha.rgbaStyle_(goog.color.alpha.hexToRgba(e))},goog.color.alpha.extractHexColor=function(e){if(goog.color.alpha.isValidAlphaHexColor_(e))return e=goog.color.prependHashIfNecessaryHelper(e),goog.color.alpha.normalizeAlphaHex_(e).substring(0,7);throw Error(e+" is not a valid 8-hex color string")},goog.color.alpha.extractAlpha=function(e){if(goog.color.alpha.isValidAlphaHexColor_(e))return e=goog.color.prependHashIfNecessaryHelper(e),goog.color.alpha.normalizeAlphaHex_(e).substring(7,9);throw Error(e+" is not a valid 8-hex color string")},goog.color.alpha.hexQuadrupletRe_=/#(.)(.)(.)(.)/,goog.color.alpha.normalizeAlphaHex_=function(e){if(!goog.color.alpha.isValidAlphaHexColor_(e))throw Error("'"+e+"' is not a valid alpha hex color");return 5==e.length&&(e=e.replace(goog.color.alpha.hexQuadrupletRe_,"#$1$1$2$2$3$3$4$4")),e.toLowerCase()},goog.color.alpha.hexToRgba=function(e){e=goog.color.alpha.normalizeAlphaHex_(e);var t=parseInt(e.substr(1,2),16),o=parseInt(e.substr(3,2),16),n=parseInt(e.substr(5,2),16);return e=parseInt(e.substr(7,2),16),[t,o,n,e/255]},goog.color.alpha.rgbaToHex=function(e,t,o,n){var i=Math.floor(255*n);if(isNaN(i)||0>i||i>255)throw Error('"('+e+","+t+","+o+","+n+'") is not a valid RGBA color');return n=goog.color.prependZeroIfNecessaryHelper(i.toString(16)),goog.color.rgbToHex(e,t,o)+n},goog.color.alpha.hslaToHex=function(e,t,o,n){var i=Math.floor(255*n);if(isNaN(i)||0>i||i>255)throw Error('"('+e+","+t+","+o+","+n+'") is not a valid HSLA color');return n=goog.color.prependZeroIfNecessaryHelper(i.toString(16)),goog.color.hslToHex(e,t/100,o/100)+n},goog.color.alpha.rgbaArrayToHex=function(e){return goog.color.alpha.rgbaToHex(e[0],e[1],e[2],e[3])},goog.color.alpha.rgbaToRgbaStyle=function(e,t,o,n){if(isNaN(e)||0>e||e>255||isNaN(t)||0>t||t>255||isNaN(o)||0>o||o>255||isNaN(n)||0>n||n>1)throw Error('"('+e+","+t+","+o+","+n+')" is not a valid RGBA color');return goog.color.alpha.rgbaStyle_([e,t,o,n])},goog.color.alpha.rgbaArrayToRgbaStyle=function(e){return goog.color.alpha.rgbaToRgbaStyle(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaArrayToHex=function(e){return goog.color.alpha.hslaToHex(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaArrayToRgbaStyle=function(e){return goog.color.alpha.hslaToRgbaStyle(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaToRgbaStyle=function(e,t,o,n){return goog.color.alpha.rgbaStyle_(goog.color.alpha.hslaToRgba(e,t,o,n))},goog.color.alpha.hslaToRgba=function(e,t,o,n){return goog.color.hslToRgb(e,t/100,o/100).concat(n)},goog.color.alpha.rgbaToHsla=function(e,t,o,n){return goog.color.rgbToHsl(e,t,o).concat(n)},goog.color.alpha.rgbaArrayToHsla=function(e){return goog.color.alpha.rgbaToHsla(e[0],e[1],e[2],e[3])},goog.color.alpha.validAlphaHexColorRe_=/^#(?:[0-9a-f]{4}){1,2}$/i,goog.color.alpha.isValidAlphaHexColor_=function(e){return goog.color.alpha.validAlphaHexColorRe_.test(e)},goog.color.alpha.normalizedAlphaHexColorRe_=/^#[0-9a-f]{8}$/,goog.color.alpha.isNormalizedAlphaHexColor_=function(e){return goog.color.alpha.normalizedAlphaHexColorRe_.test(e)},goog.color.alpha.rgbaColorRe_=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,goog.color.alpha.hslaColorRe_=/^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i,goog.color.alpha.isValidRgbaColor_=function(e){var t=e.match(goog.color.alpha.rgbaColorRe_);if(t){e=Number(t[1]);var o=Number(t[2]),n=Number(t[3]),t=Number(t[4]);if(e>=0&&255>=e&&o>=0&&255>=o&&n>=0&&255>=n&&t>=0&&1>=t)return[e,o,n,t]}return[]},goog.color.alpha.isValidHslaColor_=function(e){var t=e.match(goog.color.alpha.hslaColorRe_);if(t){e=Number(t[1]);var o=Number(t[2]),n=Number(t[3]),t=Number(t[4]);if(e>=0&&360>=e&&o>=0&&100>=o&&n>=0&&100>=n&&t>=0&&1>=t)return[e,o,n,t]}return[]},goog.color.alpha.rgbaStyle_=function(e){return"rgba("+e.join(",")+")"},goog.color.alpha.hsvaToHex=function(e,t,o,n){return n=Math.floor(255*n),goog.color.hsvArrayToHex([e,t,o])+goog.color.prependZeroIfNecessaryHelper(n.toString(16))},goog.color.alpha.hsvaArrayToHex=function(e){return goog.color.alpha.hsvaToHex(e[0],e[1],e[2],e[3])},lime.fill.Color=function(e){lime.fill.Fill.call(this),this.a=1,this.setColor(e)},goog.inherits(lime.fill.Color,lime.fill.Fill),lime.fill.Color.prototype.id="color",lime.fill.Color.prototype.getRgba=function(){var e=null;if(goog.isNumber(this.r)&&goog.isNumber(this.g)&&goog.isNumber(this.b))e=[this.r,this.g,this.b,this.a];else if(goog.isString(this.str)){var t=goog.color.parse(this.str);"named"!=t.type&&(e=goog.color.hexToRgb(t.hex)),e.push(1)}return e},lime.fill.Color.prototype.addBrightness=function(e){return this.modifyColor(2,e)},lime.fill.Color.prototype.modifyColor=function(e,t){var o=t||.1,n=this.getRgba();return n?(n.pop(),n=goog.color.rgbArrayToHsl(n),n[e]+=o,n[e]>1&&(n[e]=1),n=goog.color.hslArrayToRgb(n),n.push(this.a),this.setColor(n)):this},lime.fill.Color.prototype.addSaturation=function(e){return this.modifyColor(1,e)},lime.fill.Color.prototype.setColor=function(e){var t=e;return goog.isString(e)?(this.str=e,this):(arguments.length>2&&(t=arguments),t.length>=3&&(this.r=t[0],this.g=t[1],this.b=t[2]),4==t.length&&(this.a=t[3]),this.str=1==this.a?"rgb("+this.r+","+this.g+","+this.b+")":"rgba("+this.r+","+this.g+","+this.b+","+this.a+")",this)},lime.fill.Color.prototype.setDOMStyle=function(e){e.style.background=this.str},lime.fill.Color.prototype.setCanvasStyle=function(e){e.fillStyle=this.str},lime.fill.Color.prototype.clone=function(){var e=new lime.fill.Color("");return e.r=this.r,e.g=this.g,e.b=this.b,e.a=this.a,e.str=this.str,e},lime.fill.Stroke=function(e){lime.fill.Fill.call(this);var t=goog.isArray(e)?e:goog.array.toArray(arguments);this.width_=t[0]||1,t.shift(),this.setColor.apply(this,t)},goog.inherits(lime.fill.Stroke,lime.fill.Fill),lime.fill.Stroke.prototype.id="stroke",lime.fill.Stroke.prototype.setDOMStyle=function(e){e.style.border=this.width_+"px solid "+this.color_.str},lime.fill.Stroke.prototype.setCanvasStyle=function(e){e.strokeStyle=this.color_.str,e.lineWidth=this.width_},lime.fill.Stroke.prototype.getWidth=function(){return this.width_},lime.fill.Stroke.prototype.setWidth=function(e){return this.width_=e,this},lime.fill.Stroke.prototype.getColor=function(){return this.color_},lime.fill.Stroke.prototype.setColor=function(){var e=goog.array.toArray(arguments);return e[0]instanceof lime.fill.Color?this.color_=e[0]:(this.color_=new lime.fill.Color("#000"),e.length&&this.color_.setColor.apply(this.color_,e)),this},lime.fill.Stroke.prototype.clone=function(){var e=new lime.fill.Stroke;return e.width_=this.width_,e.color_=this.color_,e},lime.fill.Image=function(e){lime.fill.Fill.call(this),e&&goog.isFunction(e.data)&&(e=e.data()),goog.isString(e)?(this.url_=e,this.url_.length>50&&(this.url_=this.url_.substr(-50)),lime.fill.Image.loadedImages_[this.url_]?this.image_=lime.fill.Image.loadedImages_[this.url_]:(this.image_=new Image,this.image_.src=e)):(this.url_=e.src,this.url_.length>50&&(this.url_=this.url_.substr(-50)),this.image_=lime.fill.Image.loadedImages_[this.url_]?lime.fill.Image.loadedImages_[this.url_]:e),this.isLoaded()||this.addLoadHandler_(),lime.fill.Image.loadedImages_[this.url_]=this.image_},goog.inherits(lime.fill.Image,lime.fill.Fill),lime.fill.Image.loadedImages_={},lime.fill.Image.prototype.id="image",lime.fill.Image.prototype.initForSprite=function(e){var t=e.getSize(),o=this;!t.width&&!t.height&&(this.isLoaded()?e.setSize(this.image_.width,this.image_.height):goog.events.listen(this,goog.events.EventType.LOAD,function(){var e=this.getSize();!e.width&&!e.height&&this.setSize(o.image_.width,o.image_.height)},!1,e)),this.isLoaded()||goog.events.listen(this,goog.events.EventType.LOAD,function(){e.setDirty(lime.Dirty.CONTENT)},!1,this)},lime.fill.Image.prototype.addLoadHandler_=function(){goog.events.listen(this.image_,goog.events.EventType.LOAD,this.imageLoadedHandler_,!1,this)},lime.fill.Image.prototype.imageLoadedHandler_=function(e){this.dispatchEvent(e)},lime.fill.Image.prototype.getImageElement=function(){return this.image_},lime.fill.Image.prototype.isLoaded=function(){return!(!this.image_||!this.image_.width||!this.image_.height)},lime.fill.Image.prototype.setSize=function(e,t,o){return goog.isNumber(e)&&(e=new goog.math.Size(e,t),t=o||!1),this.size_=e,this.size_perc_=t,this},lime.fill.Image.prototype.setOffset=function(e,t,o){return goog.isNumber(e)&&(e=new goog.math.Coordinate(e,t),t=o||!1),this.offset_=e,this.offset_perc_=t,this},lime.fill.Image.prototype.getPixelSizeAndOffset=function(e){e=e.getSize().clone(),this.size_&&(this.size_perc_?(e.width*=this.size_.width,e.height*=this.size_.height):e=this.size_);var t=new goog.math.Coordinate(0,0);return this.offset_&&(this.offset_perc_?(t.x=e.width*this.offset_.x,t.y=e.height*this.offset_.y):t=this.offset_),[e,t]},lime.fill.Image.prototype.setDOMBackgroundProp_=function(e,t){var o=this.getPixelSizeAndOffset(t),n=o[0],o=o[1],i=t.getRelativeQuality();e.style[lime.style.getCSSproperty("BackgroundSize")]=n.width*i+"px "+n.height*i+"px",n=t.stroke_?t.stroke_.width_:0,e.style.backgroundPosition=o.x*i-n+"px "+(o.y*i-n)+"px",this.qualityRenderer&&(e.style.imageRendering="optimizeQuality")},lime.fill.Image.prototype.setDOMStyle=function(e,t){e.style.background="url("+this.image_.src+")",this.setDOMBackgroundProp_(e,t)},lime.fill.Image.prototype.setCanvasStyle=function(e,t){var o=t.getSize(),n=t.getFrame();if(o.width&&o.height)try{var i=this.getImageElement(),r=this.getPixelSizeAndOffset(t),s=r[0],a=r[1],g=e.createPattern(i,"repeat"),l=s.width/i.width,u=s.height/i.height;e.save(),e.translate(n.left+a.x,n.top+a.y),e.scale(l,u),e.fillStyle=g,e.fillRect(-a.x/l,-a.y/u,o.width/l,o.height/u),e.restore()}catch(c){}},lime.Renderer.CANVAS.SPRITE={},lime.Renderer.DOM.SPRITE={},lime.Sprite=function(){lime.Node.call(this),this.stroke_=this.fill_=null},goog.inherits(lime.Sprite,lime.Node),lime.Sprite.prototype.id="sprite",lime.Sprite.prototype.supportedRenderers=[lime.Renderer.DOM.makeSubRenderer(lime.Renderer.DOM.SPRITE),lime.Renderer.CANVAS.makeSubRenderer(lime.Renderer.CANVAS.SPRITE)],lime.Sprite.prototype.getFill=function(){return this.fill_},lime.Sprite.prototype.setFill=function(){return this.fill_=lime.fill.parse(goog.array.toArray(arguments)),this.fill_.initForSprite(this),this.setDirty(lime.Dirty.CONTENT),this},lime.Sprite.prototype.getStroke=function(){return this.stroke_},lime.Sprite.prototype.setStroke=function(e){return e&&!(e instanceof lime.fill.Stroke)&&(e=new lime.fill.Stroke(goog.array.toArray(arguments))),this.stroke_=e,this.setDirty(lime.Dirty.CONTENT),this},lime.Sprite.prototype.getCanvasContextName_=function(){var e=0;return function(){return goog.isDef(this.canvasContextName_)||(this.canvasContextName_="limedc"+e++),this.canvasContextName_}}(),lime.Renderer.DOM.SPRITE.draw=function(e){goog.isNull(this.fill_)||this.fill_.setDOMStyle(e,this),goog.isNull(this.stroke_)?goog.style.setStyle(e,"border-width",0):this.stroke_.setDOMStyle(e,this)},lime.Renderer.CANVAS.SPRITE.draw=function(e){var t=this.getSize(),o=this.fill_,n=this.stroke_;if(o||n){var i=this.getFrame();o&&(o.setCanvasStyle(e,this),"image"!=o.id&&"frame"!=o.id&&e.fillRect(i.left,i.top,t.width,t.height)),n&&(n.setCanvasStyle(e,this),"sprite"==this.id||"label"==this.id)&&(o=n.width_/2,e.strokeRect(i.left+o,i.top+o,t.width-2*o,t.height-2*o))}},lime.animation.FadeTo=function(e){lime.animation.Animation.call(this),this.opacity_=e},goog.inherits(lime.animation.FadeTo,lime.animation.Animation),lime.animation.FadeTo.prototype.scope="fade",lime.animation.FadeTo.prototype.makeTargetProp=function(e){var t=e.getOpacity();return this.useTransitions()&&(e.addTransition(lime.Transition.OPACITY,this.opacity_,this.duration_,this.getEasing()),e.setDirty(lime.Dirty.ALPHA)),{startOpacity:t,delta:this.opacity_-t}},lime.animation.FadeTo.prototype.update=function(e,t){if(0!=this.status_){var o=this.getTargetProp(t);t.setOpacity(o.startOpacity+o.delta*e)}},lime.animation.FadeTo.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.OPACITY),e.setDirty(lime.Dirty.ALPHA))},lime.Renderer.CANVAS.LABEL={},lime.Renderer.DOM.LABEL={},lime.Label=function(e){lime.Sprite.call(this),this.setMultiline(!1),this.setText(e),this.setFontFamily(lime.Label.defaultFont),this.setFontSize(14),this.setFontColor("#000"),this.setAlign("center"),this.setFontWeight("400"),this.setPadding(0),this.setLineHeight(1.15),this.setShadow(null),this.setFill(255,255,255,0),this.setStyle("normal")},goog.inherits(lime.Label,lime.Sprite),lime.Label.prototype.id="label",lime.Label.defaultFont="Arial",lime.Label.prototype.supportedRenderers=[lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.LABEL),lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.LABEL)],function(){var e;lime.Label.prototype.measureText=function(){goog.isDef(e)||(e=document.createElement("canvas").getContext("2d"));var t=this.getLineHeight()*this.getFontSize();this.getMultiline()&&(t*=goog.string.trim(this.text_).split("\n").length),e.font=this.getStyle()+" "+this.getFontWeight()+" "+this.getFontSize()+"px "+this.getFontFamily();var o=e.measureText(this.text_),o=goog.userAgent.WEBKIT?o.width:o.width+1;lime.userAgent.IOS5&&(o+=1);var n=this.stroke_?this.stroke_.width_:0;return new goog.math.Size(this.padding_[1]+this.padding_[3]+o+2*n,this.padding_[0]+this.padding_[2]+t+2*n)}}(),lime.Label.prototype.getSize=function(){var e=lime.Node.prototype.getSize.call(this);return e&&(e.width||e.height)?e:this.measureText()},lime.Label.prototype.getText=function(){return this.text_},lime.Label.prototype.setText=function(e){return this.text_=e+"",this.setDirty(lime.Dirty.CONTENT),delete this.words_,this},lime.Label.prototype.setStyle=function(e){return this.style_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getStyle=function(){return this.style_},lime.Label.prototype.getFontFamily=function(){return this.fontFamily_},lime.Label.prototype.setFontWeight=function(e){return this.fontWeight_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontWeight=function(){return this.fontWeight_},lime.Label.prototype.setFontFamily=function(e){return this.fontFamily_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontSize=function(){return this.fontSize_},lime.Label.prototype.setFontSize=function(e){return this.fontSize_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontColor=function(){return this.fontColor_},lime.Label.prototype.setFontColor=function(e){return this.fontColor_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getPadding=function(){return this.padding_},lime.Label.prototype.setPadding=function(e,t,o,n){return e=[e,e,e,e],goog.isDef(t)&&(e[1]=e[3]=t),goog.isDef(o)&&(e[2]=o),goog.isDef(n)&&(e[3]=n),this.padding_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.setLineHeight=function(e,t){return this.lineHeightAbsolute_=t||!1,this.lineHeight_=e,this},lime.Label.prototype.getLineHeight=function(){var e=Math.abs(this.getShadowOffset().y)+2*this.shadowBlur_;return this.lineHeightAbsolute_?(this.lineHeight_+e)/this.getFontSize():this.lineHeight_+e/this.getFontSize()},lime.Label.prototype.getAlign=function(){return this.align_},lime.Label.prototype.setAlign=function(e){return this.align_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getMultiline=function(){return this.multiline_},lime.Label.prototype.setMultiline=function(e){return this.multiline_=e,this.setDirty(lime.Dirty.CONTENT),this},lime.Label.prototype.setShadow=function(e,t,o,n){return 1==arguments.length&&goog.isNull(e)?(this.setShadowColor("#ccc"),this.setShadowBlur(0),this.setShadowOffset(0,0)):2==arguments.length?(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(new goog.math.Vec2(0,0))):3==arguments.length?(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(o)):(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(o,n)),this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.hasShadow_=function(){return this.shadowBlur_||this.shadowOffset_.x||this.shadowOffset_.y},lime.Label.prototype.getShadowColor=function(){return this.shadowColor_},lime.Label.prototype.getShadowOffset=function(){return this.shadowOffset_},lime.Label.prototype.setShadowColor=function(e){return this.shadowColor_=e,this},lime.Label.prototype.setShadowBlur=function(e){return this.shadowBlur_=e,this},lime.Label.prototype.setShadowOffset=function(e){return this.shadowOffset_=2==arguments.length?new goog.math.Vec2(arguments[0],arguments[1]):e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getShadowBlur=function(){return this.shadowBlur_},lime.Label.prototype.calcWordsArray=function(){var e=[],t=this.text_.length,o=this.text_.match(goog.userAgent.GECKO?/[\s\.]+/g:/[\s-\.]+/g),n=0;if(o)for(var i=0;o.length>i;i++){var r=o[i],r=this.text_.indexOf(r,n)+r.length;e.push(this.text_.substring(n,r)),n=r}return n!=t&&e.push(this.text_.substring(n,t)),e},lime.Label.prototype.wrapText=function(e,t){for(var o,n=[],i="",r=this.words_,s=0;r.length>s;s++){var a=0;for(this.multiline_&&(o=r[s].match(/\n/g))&&(a=o.length),""==i?i=r[s]:(o=e.measureText(goog.string.trim(i+r[s])),o.width>t?(n.push(goog.string.trim(i)),i=r[s]):i+=r[s]),o=0;a>o;o++)n.push(goog.string.trim(i)),i=""}return n.push(i),n},lime.Label.prototype.update=function(){this.getDirty()&lime.Dirty.CONTENT&&delete this.lastDrawnWidth_,lime.Node.prototype.update.apply(this,arguments)},lime.Renderer.DOM.LABEL.draw=function(e){lime.Renderer.DOM.SPRITE.draw.call(this,e);var t=e.style;this.dirty_&lime.Dirty.CONTENT&&(this.getMultiline()?e.innerHTML=goog.string.htmlEscape(this.text_).replace(/\n/g,"<br/>"):goog.dom.setTextContent(e,this.text_)),this.dirty_&lime.Dirty.FONT&&(t.lineHeight=this.getLineHeight(),t.padding=goog.array.map(this.padding_,function(e){return e*this.getRelativeQuality()},this).join("px ")+"px",t.color=this.getFontColor(),t.fontFamily=this.getFontFamily(),t.fontSize=this.getFontSize()*this.getRelativeQuality()+"px",t.fontWeight=this.getFontWeight(),t.textAlign=this.getAlign(),t["font-style"]=this.getStyle(),t.textShadow=this.hasShadow_()?this.getShadowColor()+" "+this.getShadowOffset().x+"px "+this.getShadowOffset().y+"px "+this.getShadowBlur()+"px":"")},lime.Renderer.CANVAS.LABEL.draw=function(e){lime.Renderer.CANVAS.SPRITE.draw.call(this,e);var t=this.getFrame(),o=-t.left-this.padding_[3]+t.right-this.padding_[1]+Math.abs(this.getShadowOffset().x)+Math.abs(2*this.getShadowBlur()),n=0;this.words_||(this.words_=this.calcWordsArray(),n=1);var i=this.stroke_?this.stroke_.width_:0;e.save();var r=this.getAlign();if("left"==r?e.translate(t.left+this.padding_[3]+i,t.top+this.padding_[0]+i):"right"==r?e.translate(t.right-this.padding_[1]-i,t.top+this.padding_[0]+i):"center"==r&&e.translate(.5*(t.left+this.padding_[3]+t.right-this.padding_[1]),t.top+this.padding_[0]+i),t=this.getLineHeight(),e.fillStyle=this.getFontColor(),e.font=this.getStyle()+" "+this.getFontWeight()+" "+this.getFontSize()+"px/"+t+" "+this.getFontFamily(),e.textAlign=r,e.textBaseline="top",this.hasShadow_()&&(e.shadowColor=this.getShadowColor(),e.shadowOffsetX=this.getShadowOffset().x,e.shadowOffsetY=this.getShadowOffset().y,e.shadowBlur=this.getShadowBlur()),(n||o!=this.lastDrawnWidth_)&&(this.lines_=this.wrapText(e,o-2*i),this.lastDrawnWidth_=o),this.lines_)for(o=t*this.getFontSize(),n=(goog.isDef(this.getShadowBlur())?Math.abs(this.getShadowBlur()):0)+(goog.isDef(this.getShadowOffset())?Math.abs(this.getShadowOffset().y)/2:0),o=goog.userAgent.WEBKIT?Math.floor(o):Math.round(o),i=0;this.lines_.length>i;i++)e.fillText(this.lines_[i],0,o*i+n-.5);e.restore()},lime.Label.installFont=function(e,t,o){goog.style.installStyles('@font-face{font-family: "'+e+'";src: url('+t+') format("'+(o||"truetype")+'");})')},lime.Scene=function(){lime.Node.call(this),this.setAnchorPoint(0,0),this.domClassName="lime-scene",this.createDomElement()},goog.inherits(lime.Scene,lime.Node),lime.Scene.prototype.getScene=function(){return this},lime.Scene.prototype.measureContents=function(){return this.getFrame()},lime.animation.MoveBy=function(e){lime.animation.Animation.call(this),this.delta_=2==arguments.length?new goog.math.Coordinate(arguments[0],arguments[1]):e},goog.inherits(lime.animation.MoveBy,lime.animation.Animation),lime.animation.MoveBy.prototype.scope="move",lime.animation.MoveBy.prototype.setSpeed=function(e){return this.speed_=e,this.calcDurationFromSpeed_(),this},lime.animation.MoveBy.prototype.makeTargetProp=function(e){return this.useTransitions()&&(e.addTransition(lime.Transition.POSITION,goog.math.Coordinate.sum(e.getPosition(),this.delta_),this.duration_,this.getEasing()),e.setDirty(lime.Dirty.POSITION)),{startpos:e.getPosition()}},lime.animation.MoveBy.prototype.calcDurationFromSpeed_=function(){this.speed_&&(this.setDuration(this.speed_*goog.math.Coordinate.distance(this.delta_,new goog.math.Coordinate(0,0))/100),this.speedCalcDone_=1)},lime.animation.MoveBy.prototype.update=function(e,t){if(0!=this.status_){var o=this.getTargetProp(t);t.setPosition(o.startpos.x+this.delta_.x*e,o.startpos.y+this.delta_.y*e)}},lime.animation.MoveBy.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.POSITION),e.setDirty(lime.Dirty.POSITION))},lime.animation.MoveBy.prototype.reverse=function(){var e=this.delta_.clone();return e.x*=-1,e.y*=-1,new lime.animation.MoveBy(e).cloneParam(this)},lime.transitions={},lime.transitions.Transition=function(e,t){goog.events.EventTarget.call(this),this.duration_=1,this.outgoing_=e,this.incoming_=t,this.finished_=!1},goog.inherits(lime.transitions.Transition,goog.events.EventTarget),lime.transitions.Transition.prototype.getDuration=function(){return this.duration_},lime.transitions.Transition.prototype.setDuration=function(e){return this.duration_=e,this},lime.transitions.Transition.prototype.setFinishCallback=function(){return goog.DEBUG&&console&&console.warn&&console.warn("Transition.prototype.setFinishCallback() is deprecated. Use event listeners."),this},lime.transitions.Transition.prototype.start=function(){this.incoming_.setPosition(new goog.math.Coordinate(0,0)),this.incoming_.setHidden(!1),this.finish()},lime.transitions.Transition.prototype.finish=function(){this.dispatchEvent(new goog.events.Event("end")),this.finished_=!0},lime.transitions.SlideIn=function(e,t,o){lime.transitions.Transition.call(this,e,t),this.mode_=lime.transitions.SlideIn.Mode.LEFT,this.movein_=o||!1},goog.inherits(lime.transitions.SlideIn,lime.transitions.Transition),lime.transitions.SlideIn.Mode={LEFT:0,UP:1,RIGHT:2,DOWN:4},lime.transitions.SlideIn.prototype.start=function(){var e=this.incoming_.getSize(),t=new goog.math.Coordinate(0,0);switch(this.mode_){case lime.transitions.SlideIn.Mode.LEFT:this.incoming_.setPosition(-e.width,0),t.x=e.width;break;case lime.transitions.SlideIn.Mode.UP:this.incoming_.setPosition(0,-e.height),t.y=e.height;break;case lime.transitions.SlideIn.Mode.RIGHT:this.incoming_.setPosition(e.width,0),t.x=-e.width;break;case lime.transitions.SlideIn.Mode.DOWN:this.incoming_.setPosition(0,e.height),t.y=-e.height}this.incoming_.setHidden(!1),e=new lime.animation.MoveBy(t).setDuration(this.getDuration()),this.outgoing_&&!this.movein_&&e.addTarget(this.outgoing_),e.addTarget(this.incoming_),goog.events.listen(e,lime.animation.Event.STOP,this.finish,!1,this),e.play()},lime.transitions.SlideIn.prototype.finish=function(){this.outgoing_&&this.outgoing_.setPosition(0,0),lime.transitions.Transition.prototype.finish.call(this)},lime.transitions.SlideIn.prototype.setMode=function(e){return this.mode_=e,this},lime.transitions.SlideInLeft=lime.transitions.SlideIn,lime.transitions.SlideInUp=function(e,t,o){lime.transitions.SlideIn.call(this,e,t,o),this.setMode(lime.transitions.SlideIn.Mode.UP)},goog.inherits(lime.transitions.SlideInUp,lime.transitions.SlideIn),lime.transitions.SlideInRight=function(e,t,o){lime.transitions.SlideIn.call(this,e,t,o),this.setMode(lime.transitions.SlideIn.Mode.RIGHT)},goog.inherits(lime.transitions.SlideInRight,lime.transitions.SlideIn),lime.transitions.SlideInDown=function(e,t,o){lime.transitions.SlideIn.call(this,e,t,o),this.setMode(lime.transitions.SlideIn.Mode.DOWN)},goog.inherits(lime.transitions.SlideInDown,lime.transitions.SlideIn),lime.transitions.MoveInLeft=function(e,t){lime.transitions.SlideInLeft.call(this,e,t,!0)},goog.inherits(lime.transitions.MoveInLeft,lime.transitions.SlideInLeft),lime.transitions.MoveInUp=function(e,t){lime.transitions.SlideInUp.call(this,e,t,!0)},goog.inherits(lime.transitions.MoveInUp,lime.transitions.SlideInUp),lime.transitions.MoveInRight=function(e,t){lime.transitions.SlideInRight.call(this,e,t,!0)},goog.inherits(lime.transitions.MoveInRight,lime.transitions.SlideInRight),lime.transitions.MoveInDown=function(e,t){lime.transitions.SlideInDown.call(this,e,t,!0)},goog.inherits(lime.transitions.MoveInDown,lime.transitions.SlideInDown),lime.Button=function(e,t){lime.Layer.call(this),this.domClassName="lime-button",goog.isDef(e)&&this.setUpState(e),goog.isDef(t)&&this.setDownState(t);var o=this;goog.events.listen(this,["mousedown","touchstart","touchmove"],function(e){o.setState(lime.Button.State.DOWN),e.swallow("mousemove",function(e){o.hitTest(e)?o.setState(lime.Button.State.DOWN):o.setState(lime.Button.State.UP)}),e.swallow("touchmove",function(e){o.hitTest(e)||(o.setState(lime.Button.State.UP),e.release())}),e.swallow(["mouseup","touchend"],function(e){o.hitTest(e)&&o.dispatchEvent({type:lime.Button.Event.CLICK}),this.setState(lime.Button.State.UP)})})},goog.inherits(lime.Button,lime.Layer),lime.Button.State={UP:0,DOWN:1},lime.Button.Event={UP:"up",DOWN:"down",CLICK:"click"},lime.Button.prototype.setUpState=function(e){return this.upstate=e,this.appendChild(this.upstate),this.state_=-1,this.setState(lime.Button.State.UP)
},lime.Button.prototype.setDownState=function(e){return this.downstate=e,this.appendChild(e),this.state_=-1,this.setState(lime.Button.State.UP)},lime.Button.prototype.getState=function(){return this.state_},lime.Button.prototype.setState=function(e){if(e==this.state_)return this;this.state_==lime.Button.State.UP&&e==lime.Button.State.DOWN&&this.dispatchEvent({type:lime.Button.Event.DOWN}),this.state_==lime.Button.State.DOWN&&e==lime.Button.State.UP&&this.dispatchEvent({type:lime.Button.Event.UP});var t=this.upstate;return goog.isDef(this.downstate)&&(lime.Button.State.DOWN==e?t=this.downstate:this.downstate.setHidden(!0)),t!=this.upstate&&this.upstate.setHidden(!0),t.setHidden(!1),this.state_=e,this},lime.Renderer.CANVAS.ROUNDEDRECT={},lime.Renderer.DOM.ROUNDEDRECT={},lime.RoundedRect=function(){lime.Sprite.call(this),this.setRadius(5)},goog.inherits(lime.RoundedRect,lime.Sprite),lime.RoundedRect.prototype.id="roundedrect",lime.RoundedRect.prototype.supportedRenderers=[lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.ROUNDEDRECT),lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.ROUNDEDRECT)],lime.RoundedRect.prototype.getRadius=function(){return this.radius_},lime.RoundedRect.prototype.getUnitPercentage=function(){return this.unitPercentage_},lime.RoundedRect.prototype.setRadius=function(e,t){return this.unitPercentage_=t||!1,this.radius_=e,this},lime.Renderer.DOM.ROUNDEDRECT.draw=function(e){this.getSize(),lime.Renderer.DOM.SPRITE.draw.call(this,e),lime.style.setBorderRadius(e,[this.radius_*this.getQuality(),this.radius_*this.getQuality()])},lime.Renderer.CANVAS.ROUNDEDRECT.draw=function(e){this.getSize(),this.getFill();var t=this.getFrame(),o=this.getRadius(),n=t.left,i=t.top,r=t.right-t.left,t=t.bottom-t.top;e.save(),e.beginPath(),e.moveTo(n+o,i),e.lineTo(n+r-o,i),e.quadraticCurveTo(n+r,i,n+r,i+o),e.lineTo(n+r,i+t-o),e.quadraticCurveTo(n+r,i+t,n+r-o,i+t),e.lineTo(n+o,i+t),e.quadraticCurveTo(n,i+t,n,i+t-o),e.lineTo(n,i+o),e.quadraticCurveTo(n,i,n+o,i),e.closePath(),e.clip(),lime.Renderer.CANVAS.SPRITE.draw.call(this,e),this.stroke_&&(e.lineWidth*=2,e.stroke()),e.restore()},lime.fill.LinearGradient=function(){lime.fill.Fill.call(this),this.colors_=[],this.setDirection(0,0,0,1)},goog.inherits(lime.fill.LinearGradient,lime.fill.Fill),lime.fill.LinearGradient.prototype.id="lineargradient",lime.fill.LinearGradient.prototype.initForSprite=function(e){(goog.userAgent.OPERA||goog.userAgent.IE)&&e.setRenderer(lime.Renderer.CANVAS)},lime.fill.LinearGradient.prototype.setDirection=function(e,t,o,n){return this.points_=[e,t,o,n],this},lime.fill.LinearGradient.prototype.addColorStop=function(e){var t=goog.array.toArray(arguments);return t.shift(),this.colors_.push([e,lime.fill.parse(t)]),this},lime.fill.LinearGradient.prototype.formatColorStop_=function(e){return goog.userAgent.WEBKIT?"color-stop("+e[0]+", "+e[1].str+")":e[1].str+" "+100*e[0]*this.rate+"%"},lime.fill.LinearGradient.prototype.setDOMStyle=function(e,t){var o,n=t.getFrame();o=n.right-n.left;var i=n.bottom-n.top;if(!goog.userAgent.WEBKIT){var r=(this.points_[2]-this.points_[0])*o,s=(this.points_[1]-this.points_[3])*i,a=n.left+o*this.points_[0],g=n.top+i*this.points_[1],l=Math.atan2(s,r),u=-s/r;1/0==u&&(u=Math.pow(10,10)),n=l>0&&Math.PI/2>l?[n.right,n.top]:l>0?[n.left,n.top]:l>-Math.PI/2?[n.right,n.bottom]:[n.left,n.bottom],n=(n[1]+1/u*n[0]-g+u*a)/(u+1/u),u=u*n+g-a*u,n-=a,u-=g,this.rate=Math.sqrt((r*r+s*s)/(n*n+u*u))}r=goog.array.map(this.colors_,this.formatColorStop_,this),o=goog.userAgent.WEBKIT?"-webkit-gradient(linear,"+100*this.points_[0]+"% "+100*this.points_[1]+"%,"+100*this.points_[2]+"% "+100*this.points_[3]+"%,"+r.join(",")+")":"linear-gradient("+100*this.points_[0]+"% "+100*this.points_[1]+"% "+Math.atan2((this.points_[1]-this.points_[3])*i,(this.points_[2]-this.points_[0])*o)+"rad,"+r.join(",")+")",goog.userAgent.GECKO&&(o="-moz-"+o),e.style.background=o},lime.fill.LinearGradient.prototype.setCanvasStyle=function(e,t){for(var o=this.points_,n=t.getFrame(),i=n.right-n.left,r=n.bottom-n.top,o=e.createLinearGradient(n.left+i*o[0],n.top+r*o[1],n.left+i*o[2],n.top+r*o[3]),n=0;this.colors_.length>n;n++)o.addColorStop(this.colors_[n][0],this.colors_[n][1].str);e.fillStyle=o},lime.GlossyButton=function(e){lime.Button.call(this,this.makeState_(e),this.makeState_(e)),this.borderWidth=2,this.setText(e),this.setColor("#62be00")},goog.inherits(lime.GlossyButton,lime.Button),lime.GlossyButton.prototype.makeState_=function(e){var t=new lime.RoundedRect;return t.inner=new lime.RoundedRect,t.label=new lime.Label(e).setAlign("center").setFontFamily('"Trebuchet MS"').setFontColor("#010101").setFontSize(17),t.appendChild(t.inner),t.inner.appendChild(t.label),t},lime.GlossyButton.prototype.setColor=function(e){return e=lime.fill.parse(e),goog.array.forEach([this.upstate,this.downstate],function(t){var o=t==this.downstate?e.clone().addSaturation(-.2):e;t.setFill(o);var n=(new lime.fill.LinearGradient).setDirection(0,0,0,1);n.addColorStop(0,o.clone().addBrightness(.13)),n.addColorStop(.5,o.clone().addBrightness(.05)),n.addColorStop(.52,o),n.addColorStop(1,o),t.inner.setFill(n)},this),this},lime.GlossyButton.prototype.setText=function(e){return this.upstate.label.setText(e),this.downstate.label.setText(e),this},lime.GlossyButton.prototype.setFontSize=function(e){return this.upstate.label.setFontSize(e),this.downstate.label.setFontSize(e),this},lime.GlossyButton.prototype.setSize=function(){if(this.upstate){this.upstate.setSize.apply(this.upstate,arguments);var e=this.upstate.getSize();goog.array.forEach([this.upstate,this.downstate],function(t){t.setSize(e);var o=e.clone();o.width-=this.borderWidth,o.height-=this.borderWidth,t.inner.setSize(o)},this)}return this},lime.GlossyButton.prototype.getSize=function(){return this.upstate.getSize()},lime.CoverNode=function(){lime.Node.call(this);var e=this.baseElement;this.baseElement=document.createElement("canvas"),goog.dom.replaceNode(this.baseElement,e),this.context=this.baseElement.getContext("2d"),goog.dom.classes.add(this.baseElement,"lime-cover")},goog.inherits(lime.CoverNode,lime.Node),lime.CoverNode.prototype.update=function(){if(this.director){var e=goog.style.getSize(this.director.baseElement.parentNode),t=this.baseElement.style,o=this.director.getScale(),n=this.getQuality();t.width=e.width+"px",t.height=e.height+"px",this.baseElement.width=e.width/o.x*n,this.baseElement.height=e.height/o.y*n,this.updateRect_?this.setNeedsRedrawInRect(this.updateRect_):this.setNeedsRedraw()}},lime.CoverNode.prototype.setNeedsRedraw=function(){var e=new goog.math.Box(0,this.baseElement.width/this.getQuality(),this.baseElement.height/this.getQuality(),0);this.setNeedsRedrawInRect(this.director.getBounds(e))},lime.CoverNode.prototype.setNeedsRedrawInRect=function(e){var t=this.director,o=this.getQuality(),n=t.getScale(),t=t.getPosition();this.context.save(),this.context.scale(o,o),this.context.translate(t.x/n.x,t.y/n.y),this.drawInRect(e),this.context.restore()},lime.helper={},lime.helper.PauseScene=function(){lime.Scene.call(this),this.domElement.style.cssText="background:rgba(255,255,255,.8)"},goog.inherits(lime.helper.PauseScene,lime.Scene),lime.animation.MoveTo=function(e){lime.animation.Animation.call(this),this.position_=2==arguments.length?new goog.math.Coordinate(arguments[0],arguments[1]):e},goog.inherits(lime.animation.MoveTo,lime.animation.Animation),lime.animation.MoveTo.prototype.scope="move",lime.animation.MoveTo.prototype.setSpeed=function(e){return this.speed_=e,delete this.speedCalcDone_,this},lime.animation.MoveTo.prototype.makeTargetProp=function(e){var t=e.getPosition(),o=new goog.math.Coordinate(this.position_.x-t.x,this.position_.y-t.y);return this.useTransitions()&&(e.addTransition(lime.Transition.POSITION,this.position_,this.duration_,this.getEasing()),e.setDirty(lime.Dirty.POSITION)),{startpos:t,delta:o}},lime.animation.MoveTo.prototype.calcDurationFromSpeed_=function(){if(this.speed_&&this.targets.length){var e=this.targets[0].getPosition(),e=new goog.math.Coordinate(this.position_.x-e.x,this.position_.y-e.y);this.setDuration(this.speed_*goog.math.Coordinate.distance(e,new goog.math.Coordinate(0,0))/100),this.speedCalcDone_=1}},lime.animation.MoveTo.prototype.update=function(e,t){if(0!=this.status_){var o=this.getTargetProp(t);t.setPosition(o.startpos.x+o.delta.x*e,o.startpos.y+o.delta.y*e)}},lime.animation.MoveTo.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.POSITION),e.setDirty(lime.Dirty.POSITION))},lime.events={},lime.events.Drag=function(e,t,o,n){goog.events.EventTarget.call(this),this.target=n||e.targetObject,this.dropTargets_=[],this.dropIndex_=-1,this.y=this.x=0,t||(t=this.target.localToScreen(new goog.math.Coordinate(0,0)),this.x=e.screenPosition.x-t.x,this.y=e.screenPosition.y-t.y),e.swallow(["touchmove","mousemove"],goog.bind(this.moveHandler_,this)),e.swallow(["touchend","touchcancel","mouseup"],goog.bind(this.releaseHandler_,this)),this.setBounds(o||null),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.START))},goog.inherits(lime.events.Drag,goog.events.EventTarget),lime.events.Drag.Event={START:"start",END:"end",MOVE:"move",CHANGE:"change",DROP:"drop",CANCEL:"cancel"},lime.events.Drag.prototype.disposeInternal=function(){lime.events.Drag.superClass_.disposeInternal.call(this),this.dropTargets_=this.target=this.event_=null},lime.events.Drag.prototype.getBounds=function(){return this.bounds_},lime.events.Drag.prototype.setBounds=function(e){this.bounds_=e},lime.events.Drag.prototype.moveHandler_=function(e){e=e.screenPosition.clone(),e.x-=this.x,e.y-=this.y,e=this.target.getParent().screenToLocal(e);var t=this.getBounds();goog.isDefAndNotNull(t)&&(e.x<t.left?e.x=t.left:e.x>t.right&&(e.x=t.right),e.y<t.top?e.y=t.top:e.y>t.bottom&&(e.y=t.bottom)),this.target.setPosition(e),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.MOVE)),e=-1;for(var t=goog.math.Rect.createFromBox(this.target.getFrame()),o=[],n=0;this.dropTargets_.length>n;n++){var i=this.dropTargets_[n];if(!goog.isFunction(i.confirmTargetActive)||i.confirmTargetActive(this.target)){var r=i.getFrame(),s=i.localToNode(new goog.math.Coordinate(r.left,r.top),this.target),i=i.localToNode(new goog.math.Coordinate(r.right,r.bottom),this.target),s=goog.math.Rect.createFromBox(new goog.math.Box(Math.min(s.y,i.y),Math.max(s.x,i.x),Math.max(s.y,i.y),Math.min(i.x,s.x)));(i=goog.math.Rect.intersection(t,s))&&o.push([i.width*i.height/(s.width*s.height),n])}}o.length&&(o=o.sort(function(e,t){return t[0]-e[0]}),e=o[0][1]),e!=this.dropIndex_&&(-1!=this.dropIndex_&&goog.isFunction(this.dropTargets_[this.dropIndex_].hideDropHighlight)&&this.dropTargets_[this.dropIndex_].hideDropHighlight(),this.dropIndex_=e,-1!=this.dropIndex_&&goog.isFunction(this.dropTargets_[this.dropIndex_].showDropHighlight)&&this.dropTargets_[this.dropIndex_].showDropHighlight(),e=new goog.events.Event(lime.events.Drag.Event.CHANGE),e.activeDropTarget=-1!=this.dropIndex_?this.dropTargets_[this.dropIndex_]:null,this.dispatchEvent(e))},lime.events.Drag.prototype.releaseHandler_=function(e){if(-1!=this.dropIndex_){if(e=new goog.events.Event(lime.events.Drag.Event.DROP),e.activeDropTarget=this.dropTargets_[this.dropIndex_],goog.isFunction(e.activeDropTarget.showDropHighlight)&&e.activeDropTarget.hideDropHighlight(),this.dispatchEvent(e),!e.propagationStopped_){var t=e.activeDropTarget.getParent().localToNode(e.activeDropTarget.getPosition(),this.target.getParent()),t=new lime.animation.MoveTo(t).setDuration(.5).enableOptimizations();this.target.runAction(t),goog.isFunction(e.moveEndedCallback)&&goog.events.listen(t,lime.animation.Event.STOP,e.moveEndedCallback,!1,this.target)}}else this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.CANCEL));this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.END)),lime.scheduleManager.callAfter(this.dispose,this,100)},lime.events.Drag.prototype.addDropTarget=function(e){this.dropTargets_.push(e)},lime.events.Event=function(e){this.dispatcher_=e,this.identifier=0},lime.events.Event.prototype.swallow=function(e,t,o){e=goog.isArray(e)?e:[e];for(var n=0;e.length>n;n++)this.dispatcher_.swallow(this,e[n],t);o&&this.event.stopPropagation()},lime.events.Event.prototype.release=function(e){var t=goog.isDef(e),o=goog.isArray(e)?e:[e];if(e=this.dispatcher_.swallows[this.identifier]){var n=this;e=goog.array.filter(e,function(e){return goog.isDef(n.targetObject)&&(e[0]!=n.targetObject||t&&!goog.array.contains(o,e[1]))?!0:(goog.events.unlisten(e[0],e[1],e[2]),!1)}),e.length?this.dispatcher_.swallows[this.identifier]=e:delete this.dispatcher_.swallows[this.identifier]}},lime.events.Event.prototype.startDrag=function(e,t,o){return new lime.events.Drag(this,e,t,o)},lime.events.Event.prototype.clone=function(){var e=new lime.events.Event(this.dispatcher_);return goog.object.extend(e,this),e},lime.events.EventDispatcher=function(e){this.director=e,this.handlers={},this.swallows={}},lime.events.EventDispatcher.prototype.register=function(e,t){goog.isDef(this.handlers[t])?goog.array.contains(this.handlers[t],e)||(this.handlers[t].push(e),this.handlers[t].sort(lime.Node.compareNode)):(this.handlers[t]=[e],goog.events.listen("touch"==t.substring(0,5)&&e!=this.director?document:"key"==t.substring(0,3)?window:this.director.domElement.parentNode,t,this,!1,this))},lime.events.EventDispatcher.prototype.release=function(e,t){goog.isDef(this.handlers[t])&&(goog.array.remove(this.handlers[t],e),this.handlers[t].length||(goog.events.unlisten(this.director.domElement.parentNode,t,this,!1,this),delete this.handlers[t]))},lime.events.EventDispatcher.prototype.updateDispatchOrder=function(e){for(var t in this.handlers){var o=this.handlers[t];goog.array.contains(o,e)&&o.sort(lime.Node.compareNode)}},lime.events.EventDispatcher.prototype.swallow=function(e,t,o){var n=e.identifier;goog.isDef(this.swallows[n])||(this.swallows[n]=[]),this.swallows[n].push([e.targetObject,t,o]),goog.events.listen(e.targetObject,t,goog.nullFunction)},lime.events.EventDispatcher.prototype.handleEvent=function(e){if(goog.isDef(this.handlers[e.type])){for(var t=this.handlers[e.type].slice(),o=!1,n=0,i=0;!i;){var r=new lime.events.Event(this);if(r.type=e.type,r.event=e,"touch"==e.type.substring(0,5)){var s=e.getBrowserEvent().changedTouches[n];r.screenPosition=new goog.math.Coordinate(s.pageX,s.pageY),r.identifier=s.identifier,n++,n>=e.getBrowserEvent().changedTouches.length&&(i=1)}else r.screenPosition=new goog.math.Coordinate(e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.clientY+document.body.scrollTop+document.documentElement.scrollTop),i=1;if(goog.isDef(this.swallows[r.identifier])){for(var s=this.swallows[r.identifier],a=0;s.length>a;a++)if(s[a][1]==e.type||goog.isArray(s[a][1])&&goog.array.contains(s[a][1],e.type)){var g=s[a][0];r.targetObject=g,r.position=g.screenToLocal(r.screenPosition),s[a][2].call(g,r),o=!0}("touchend"==e.type||"touchcancel"==e.type||"mouseup"==e.type||"keyup"==e.type)&&(delete r.targetObject,r.release())}else for(a=0;t.length>a&&(g=t[a],this.director.getCurrentScene()!=g.getScene()&&g!=this.director||g.getHidden()||!g.inTree_||(r.targetObject=g,!g.hitTest(r)&&"key"!=e.type.substring(0,3))||(r.targetObject=g,g.dispatchEvent(r),o=!0,!r.event.propagationStopped_));a++);}o&&e.preventDefault()}},goog.dom.ViewportSizeMonitor=function(e){goog.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=goog.events.listen(this.window_,goog.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=goog.dom.getViewportSize(this.window_),this.isPollingRequired_()&&(this.windowSizePollInterval_=window.setInterval(goog.bind(this.checkForSizeChange_,this),goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE))},goog.inherits(goog.dom.ViewportSizeMonitor,goog.events.EventTarget),goog.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){e=e||window;var t=goog.getUid(e);return goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]=goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new goog.dom.ViewportSizeMonitor(e)},goog.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){e=goog.getUid(e||window),goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]},goog.dom.ViewportSizeMonitor.windowInstanceMap_={},goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE=500,goog.dom.ViewportSizeMonitor.prototype.listenerKey_=null,goog.dom.ViewportSizeMonitor.prototype.window_=null,goog.dom.ViewportSizeMonitor.prototype.size_=null,goog.dom.ViewportSizeMonitor.prototype.windowSizePollInterval_=null,goog.dom.ViewportSizeMonitor.prototype.isPollingRequired_=function(){return goog.userAgent.WEBKIT&&goog.userAgent.WINDOWS||goog.userAgent.OPERA&&this.window_.self!=this.window_.top},goog.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},goog.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(goog.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.windowSizePollInterval_&&(window.clearInterval(this.windowSizePollInterval_),this.windowSizePollInterval_=null),this.size_=this.window_=null},goog.dom.ViewportSizeMonitor.prototype.handleResize_=function(){this.checkForSizeChange_()},goog.dom.ViewportSizeMonitor.prototype.checkForSizeChange_=function(){var e=goog.dom.getViewportSize(this.window_);goog.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(goog.events.EventType.RESIZE))},lime.Director=function(e,t,o){if(lime.Node.call(this),this.inTree_=!0,this.setAnchorPoint(0,0),this.sceneStack_=[],this.coverStack_=[],this.domClassName="lime-director",this.createDomElement(),e.appendChild(this.domElement),goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&(this.coverElementBelow=document.createElement("div"),goog.dom.classes.add(this.coverElementBelow,"lime-cover-below"),goog.dom.insertSiblingBefore(this.coverElementBelow,this.domElement),this.coverElementAbove=document.createElement("div"),goog.dom.classes.add(this.coverElementAbove,"lime-cover-above"),goog.dom.insertSiblingAfter(this.coverElementAbove,this.domElement)),"absolute"!=e.style.position&&(e.style.position="relative"),e.style.overflow="hidden",e==document.body){goog.style.installStyles("html,body{margin:0;padding:0;height:100%;}");var n=document.createElement("meta");n.name="viewport";var i="initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";if(/android/i.test(navigator.userAgent)&&(i+=",target-densityDpi=device-dpi"),n.content=i,document.getElementsByTagName("head").item(0).appendChild(n),goog.userAgent.MOBILE&&!goog.global.navigator.standalone){var r=this;setTimeout(function(){window.scrollTo(0,0),r.invalidateSize_()},100)}}var s;e=goog.style.getSize(e),this.setSize(new goog.math.Size(s=t||e.width||lime.Director.DEFAULT_WIDTH,o||e.height*s/e.width||lime.Director.DEFAULT_HEIGHT)),this.setDisplayFPS(goog.DEBUG),this.setPaused(!1),t=new goog.dom.ViewportSizeMonitor,goog.events.listen(t,goog.events.EventType.RESIZE,this.invalidateSize_,!1,this),goog.events.listen(goog.global,"orientationchange",this.invalidateSize_,!1,this),lime.scheduleManager.schedule(this.step_,this),this.eventDispatcher=new lime.events.EventDispatcher(this),goog.events.listen(this,["touchmove","touchstart"],function(e){e.event.preventDefault()},!1,this),goog.events.listen(this,["mouseup","touchend","mouseout","touchcancel"],function(){},!1),this.invalidateSize_(),goog.DEBUG&&goog.events.listen(goog.global,"keyup",this.keyUpHandler_,!1,this)},goog.inherits(lime.Director,lime.Node),lime.Director.FPS_INTERVAL=100,lime.Director.DEFAULT_WIDTH=400,lime.Director.DEFAULT_HEIGHT=400,lime.Director.prototype.isPaused=function(){return this.isPaused_},lime.Director.prototype.setPaused=function(e){return this.isPaused_=e,lime.scheduleManager.changeDirectorActivity(this,!e),this.isPaused_?(this.pauseScene=new(this.pauseClassFactory||lime.helper.PauseScene),this.pushScene(this.pauseScene)):this.pauseScene&&(this.popScene(),delete this.pauseScene),this},lime.Director.prototype.isDisplayFPS=function(){return this.displayFPS_},lime.Director.prototype.setDisplayFPS=function(e){return this.displayFPS_&&!e?goog.dom.removeNode(this.fpsElement_):!this.displayFPS_&&e&&(this.accumDt_=this.frames_=0,this.fpsElement_=goog.dom.createDom("div"),goog.dom.classes.add(this.fpsElement_,"lime-fps"),this.domElement.parentNode.appendChild(this.fpsElement_)),this.displayFPS_=e,this},lime.Director.prototype.getCurrentScene=function(){return this.sceneStack_.length?this.sceneStack_[this.sceneStack_.length-1]:null},lime.Director.prototype.getDirector=function(){return this},lime.Director.prototype.getScene=function(){return null},lime.Director.prototype.step_=function(e){this.isDisplayFPS()&&(this.frames_++,this.accumDt_+=e,this.accumDt_>lime.Director.FPS_INTERVAL&&(this.fps=1e3*this.frames_/this.accumDt_,goog.dom.setTextContent(this.fpsElement_,this.fps.toFixed(2)),this.accumDt_=this.frames_=0)),lime.updateDirtyObjects()},lime.Director.prototype.replaceScene=function(e,t,o){e.setSize(this.getSize().clone()),t=t||lime.transitions.Transition;var n=null;this.sceneStack_.length&&(n=this.sceneStack_[this.sceneStack_.length-1]);for(var i=[],r=this.sceneStack_.length;--r>=0;)this.sceneStack_[r].wasRemovedFromTree(),i.push(this.sceneStack_[r].domElement),this.sceneStack_[r].parent_=null;return this.sceneStack_.length=0,this.sceneStack_.push(e),e.domElement.style.display="none",this.domElement.appendChild(e.domElement),e.parent_=this,e.wasAddedToTree(),e=new t(n,e),goog.events.listenOnce(e,"end",function(){for(var e=i.length;--e>=0;)goog.dom.removeNode(i[e]);i.length=0},!1,this),goog.isDef(o)&&e.setDuration(o),e.start(),e},lime.Director.prototype.updateLayout=function(){this.dirty_&=~lime.Dirty.LAYOUT},lime.Director.prototype.pushScene=function(e,t,o){var n;return e.setSize(this.getSize().clone()),goog.isDef(t)&&this.sceneStack_.length&&(n=this.sceneStack_[this.sceneStack_.length-1],n=new t(n,e),goog.isDef(o)&&n.setDuration(o),e.domElement.style.display="none"),this.sceneStack_.push(e),this.domElement.appendChild(e.domElement),e.parent_=this,e.wasAddedToTree(),n?(n.start(),n):void 0},lime.Director.prototype.popScene=function(e,t){var o,n=this.getCurrentScene();if(!goog.isNull(n)){var i=function(){n.wasRemovedFromTree(),n.parent_=null,goog.dom.removeNode(n.domElement),this.sceneStack_.pop(),n=null};if(goog.isDef(e)&&this.sceneStack_.length>1?(o=new e(n,this.sceneStack_[this.sceneStack_.length-2]),goog.isDef(t)&&o.setDuration(t),goog.events.listenOnce(o,"end",i,!1,this)):i.call(this),o)return o.start(),o}},lime.Director.prototype.addCover=function(e,t){goog.userAgent.WEBKIT&&goog.userAgent.MOBILE?t?this.coverElementAbove.appendChild(e.domElement):this.coverElementBelow.appendChild(e.domElement):t?goog.dom.insertSiblingAfter(e.domElement,this.domElement):goog.dom.insertSiblingBefore(e.domElement,this.domElement),e.director=this,this.coverStack_.push(e)},lime.Director.prototype.removeCover=function(e){goog.array.remove(this.coverStack_,e),goog.dom.removeNode(e.domElement)},lime.Director.prototype.getBounds=function(e){var t=this.getPosition(),o=this.getScale();return new goog.math.Box(e.top-t.y/o.y,e.right-t.x/o.x,e.bottom-t.y/o.y,e.left-t.x/o.x)},lime.Director.prototype.screenToLocal=function(e){return e=e.clone(),e.x-=this.domOffset.x+this.position_.x,e.y-=this.domOffset.y+this.position_.y,e.x/=this.scale_.x,e.y/=this.scale_.y,e},lime.Director.prototype.localToScreen=function(e){return e=e.clone(),e.x*=this.scale_.x,e.y*=this.scale_.y,e.x+=this.domOffset.x+this.position_.x,e.y+=this.domOffset.y+this.position_.y,e},lime.Director.prototype.update=function(){lime.Node.prototype.update.call(this);for(var e=this.coverStack_.length;--e>=0;)this.coverStack_[e].update()},lime.Director.prototype.invalidateSize_=function(){var e=goog.style.getSize(this.domElement.parentNode);this.domElement.parentNode==document.body&&(window.scrollTo(0,0),goog.isNumber(window.innerHeight)&&(e.height=window.innerHeight));var t=this.getSize().clone().scaleToFit(e),o=t.width/this.getSize().width;this.setScale(o),e.aspectRatio()<t.aspectRatio()?this.setPosition(0,(e.height-t.height)/2):this.setPosition((e.width-t.width)/2,0),this.updateDomOffset_(),goog.userAgent.MOBILE&&this.domElement.parentNode==document.body&&(this.overflowStyle_&&goog.style.uninstallStyles(this.overflowStyle_),this.overflowStyle_=goog.style.installStyles("html{height:"+(e.height+120)+"px;overflow:hidden;}"))},lime.Director.prototype.makeMobileWebAppCapable=function(){var e=document.createElement("meta");e.name="apple-mobile-web-app-capable",e.content="yes",document.getElementsByTagName("head").item(0).appendChild(e),e=document.createElement("meta"),e.name="apple-mobile-web-app-status-bar-style",e.content="black",document.getElementsByTagName("head").item(0).appendChild(e),e=!1,goog.isDef(localStorage)&&(e=localStorage.getItem("_lime_visited")),/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&!window.navigator.standalone&&COMPILED&&!e&&this.domElement.parentNode==document.body&&(alert("Please install this page as a web app by clicking Share + Add to home screen."),goog.isDef(localStorage)&&localStorage.setItem("_lime_visited",!0))},lime.Director.prototype.updateDomOffset_=function(){this.domOffset=goog.style.getPageOffset(this.domElement.parentNode)},lime.Director.prototype.keyUpHandler_=function(e){e.altKey&&"d"==String.fromCharCode(e.keyCode).toLowerCase()&&(this.debugModeOn_?(goog.style.uninstallStyles(this.debugModeOn_),this.debugModeOn_=null):this.debugModeOn_=goog.style.installStyles(".lime-scene div,.lime-scene img,.lime-scene canvas{border: 1px solid #c00;}"),e.stopPropagation(),e.preventDefault())},lime.Director.prototype.hitTest=function(e){return e&&e.screenPosition&&(e.position=this.screenToLocal(e.screenPosition)),!0},lime.transitions.Dissolve=function(e,t){lime.transitions.Transition.call(this,e,t)},goog.inherits(lime.transitions.Dissolve,lime.transitions.Transition),lime.transitions.Dissolve.prototype.start=function(){this.incoming_.setOpacity(0),this.incoming_.setHidden(!1);var e=new lime.animation.FadeTo(0).setDuration(this.getDuration()).enableOptimizations();goog.events.listen(e,lime.animation.Event.STOP,function(){this.outgoing_&&this.outgoing_.setOpacity(1)},!1,this),this.outgoing_&&this.outgoing_.runAction(e),e=new lime.animation.FadeTo(1).setDuration(this.getDuration()),this.incoming_.runAction(e),goog.events.listen(e,lime.animation.Event.STOP,this.finish,!1,this)},vocabulary_cpanel.start=function(){var e={width:640,height:1200,renderer:lime.Renderer.CANVAS},t=new lime.Director(document.body,e.width,e.height);t.makeMobileWebAppCapable(),t.setDisplayFPS(!1);var o,n,i,r,s,a,g={intro:"#E1E4EB",focus:"#114CFA",question:"#4D0E00",text:"#222222",message:"#E88300",button:"#FFFFFF",correct:"#E85A13",incorrect:"#A254D6",congratulations:"#6591F7"},l=(new lime.fill.LinearGradient).setDirection(0,0,0,1).addColorStop(.3,255,255,255,1).addColorStop(1,160,160,160,1),u=(new lime.fill.LinearGradient).setDirection(0,0,0,1).addColorStop(.3,255,255,255,1).addColorStop(1,200,203,210,1),c=new lime.Scene,d=new lime.Scene,h=new lime.Scene,p=new lime.Scene,f=window.gon.target_vocab,m=window.gon.option_vocab,y=function(){i=(new lime.Layer).setRenderer(e.renderer),r=(new lime.Sprite).setPosition(0,0).setSize(e.width,e.height).setFill(l).setAnchorPoint(0,0),s=(new lime.Label).setText("Today's Vocabulary").setFontFamily("Arial").setFontSize(80).setPosition(e.width/2,e.height/5).setSize(e.width-20,e.height/3).setFontColor(g.text),a=(new lime.GlossyButton).setSize(e.width/2,e.height/10).setFontSize(50).setPosition(e.width/2,8*e.height/9).setText("Start!").setColor(g.button),i.appendChild(r),i.appendChild(s),i.appendChild(a);for(var u=0;n.length>u;u++){var d=(new lime.Label).setText(n[u].word+": "+n[u].translation).setFontColor(g.text).setFontSize(30).setAnchorPoint(0,0).setAlign("left");d.setSize(e.width-40,2.2*d.measureText().height),d.setPosition(50,e.height/4+2.2*d.measureText().height*u),i.appendChild(d)}c.appendChild(i),goog.events.listen(a,["mousedown","touchstart"],function(){o=new vocabulary_cpanel.Question(n,e,g),D(),x.appendChild(o.targetWordTitle),t.replaceScene(C,lime.transitions.SlideInRight,.3)})};n=goog.object.unsafeClone(f),console.log(n),y(),t.replaceScene(c);var _,v=function(t){_=(new lime.Layer).setPosition(0,0).setRenderer(e.renderer);var o=(new lime.Sprite).setPosition(0,0).setSize(e.width,e.height).setFill(g.correct).setAnchorPoint(0,0),i=(new lime.Label).setText("That's right!").setPosition(e.width/2,e.height/3).setFontSize(100).setFontColor("white").setFontWeight("bold").setSize(e.width-20,e.height/3);t=String(n[t].example_sentence),reviewSentence=(new lime.Label).setText('"'+t+'"').setPosition(e.width/2,2*e.height/3).setFontSize(70).setFontColor("white").setFontWeight("bold").setSize(e.width-30,e.height/3).setAlign("left"),_.appendChild(o),_.appendChild(i),_.appendChild(reviewSentence),d.appendChild(_)},E=(new lime.Layer).setPosition(0,0).setRenderer(e.renderer),b=(new lime.Sprite).setPosition(0,0).setSize(e.width,e.height).setFill(g.incorrect).setAnchorPoint(0,0),T=(new lime.Label).setText("Nice try! But wrong!").setPosition(e.width/2,e.height/2).setFontSize(100).setFontColor("white").setFontWeight("bold").setSize(e.width-20,e.height/3);E.appendChild(b),E.appendChild(T),h.appendChild(E);var S=(new lime.Layer).setPosition(0,0).setRenderer(e.renderer),b=(new lime.Sprite).setPosition(0,0).setSize(e.width,e.height).setFill(g.congratulations).setAnchorPoint(0,0),T=(new lime.Label).setText("Congratulations! You finished all the vocabulary!").setPosition(e.width/2,e.height/2).setFontSize(60).setFontColor("white").setSize(e.width-40,600).setFontWeight("bold"),A=(new lime.GlossyButton).setSize(e.width/2,e.height/10).setFontSize(50).setPosition(e.width/2,5*e.height/6).setText("Play again!").setColor(g.button);S.appendChild(b),S.appendChild(T),S.appendChild(A),p.appendChild(S),goog.events.listen(A,["mousedown","touchstart"],function(){n=goog.object.unsafeClone(f),console.log(n),y(),t.replaceScene(c,lime.transitions.SlideInRight,.3),i.setDirty(255)});var C,x,N,R=function(e){for(var t,o,n=e.length;0!==n;)o=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[o],e[o]=t;return e},w=function(){for(var i=0;m.length>i;i++){var r=(new lime.GlossyButton).setText(m[i].word).setColor(g.button).setFontSize(25).setSize(300,100).setOpacity(0);m.length/2>i?r.setPosition(e.width/4+5,5*e.height/9+110*i):r.setPosition(3*e.width/4-5,5*e.height/9+110*(i-m.length/2)),x.appendChild(r);var s=new lime.animation.FadeTo(1);r.runAction(s),function(i,r){goog.events.listen(i,["mousedown","touchstart"],function(){m[r].word==n[o.targetIndex].word?(v(o.targetIndex),n.splice(o.targetIndex,1),console.log(f),t.replaceScene(d,lime.transitions.SlideInRight,.2),_.setDirty(255),lime.scheduleManager.callAfter(function(){0==n.length?(t.replaceScene(p,lime.transitions.SlideInRight,1),S.setDirty(255)):(o=new vocabulary_cpanel.Question(n,e,g),D(),x.appendChild(o.targetWordTitle),t.replaceScene(C,lime.transitions.SlideInRight,.2))},this,6e3)):(t.replaceScene(h,lime.transitions.SlideInRight,.2),E.setDirty(255),lime.scheduleManager.callAfter(function(){o=new vocabulary_cpanel.Question(n,e,g),D(),x.appendChild(o.targetWordTitle),t.replaceScene(C,lime.transitions.SlideInRight,.2)},this,1600))})}(r,i)}},D=function(){C=(new lime.Scene).setRenderer(e.renderer),x=(new lime.Layer).setPosition(0,0),N=(new lime.Sprite).setPosition(0,0).setSize(e.width,e.height).setFill(u).setAnchorPoint(0,0),x.appendChild(N);var t=(new lime.Label).setText("Do you remember this word?").setFontFamily("Arial").setFontSize(50).setPosition(e.width/2,3*e.height/5).setSize(e.width-60,200);x.appendChild(t),C.appendChild(x),R(m),lime.scheduleManager.callAfter(function(){var e=new lime.animation.FadeTo(0);t.runAction(e)},this,2200),lime.scheduleManager.callAfter(function(){w()},this,2800)}};